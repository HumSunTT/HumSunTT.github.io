<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>菊与刀</title>
    <link href="/2021/09/17/2103%20%E8%8F%8A%E4%B8%8E%E5%88%80/"/>
    <url>/2021/09/17/2103%20%E8%8F%8A%E4%B8%8E%E5%88%80/</url>
    
    <content type="html"><![CDATA[<h2 id="菊与刀"><a href="#菊与刀" class="headerlink" title="菊与刀"></a>菊与刀</h2><p>[美] 鲁思·本尼迪克特</p><p>2021年3月15日 </p><p>“对德国，政策很明确，即武装占领，直接管制。对日本，当时有两大问题需要研究：第一，日本政府会不会投降？盟军是否要进攻日本本土而采用对付德国的办法？第二，假若日本投降，美国是否应当利用日本政府机构以至保存天皇？”</p><p>2021年3月15日 </p><p>“菊”本是日本皇家家徽，“刀”是武家文化的象征。”</p><p>2021年3月15日 </p><p>“以“菊”和“刀”来象征日本人的矛盾性格，亦即日本文化的双重性”</p><p>2021年3月15日 </p><p>“日本幼儿教养和成人教养的不连续性是形成双重性格的重要因素”</p><p>2021年3月15日 </p><p>“日本文化的特征概括为“耻感文化”，认为它与西方的“罪感文化”不同，其强制力在于外部社会而不在于人的内心”</p><p>2021年3月15日 </p><p>“从历史唯物主义观点看来，文化属于上层建筑，其核心是社会意识形态，它反映经济基础并受经济基础的制约”</p><p>2021年3月15日 </p><p>“但文化又有其相对的独立性，各民族的文化各有其历史形成的特点并反作用于经济基础”</p><p>2021年3月15日 </p><p>“西方国家所公认的那些基于人性的战争惯例，对日本人则显然不存在。”</p><p>2021年3月15日 </p><p>“在战争中把一切都归咎于敌国，这是容易的；但要想知道敌人自己心目中对人生的看法就难得多了”</p><p>2021年3月16日 </p><p>“有坚定精神的人认为差异应当存在。他们尊重差异。他们的目标是确立一个能容纳各种差异的安全世界”</p><p>2021年3月16日 </p><p>“这次战争并不是军备的较量，而是日本人信赖精神与美国人信赖物质的战争”</p><p>2021年3月16日 </p><p>“美国人对一切救援行动，对陷入困境者的一切帮助都深为感动。勇敢的行为，如果使受难者获救，就更加是英雄行为”</p><p>2021年3月16日 </p><p>“他们的报纸、广播反复谈论这个话题，只有视死如归的冒险才是最高尚的，而小心谨慎则是无价值的。”</p><p>2021年3月16日 </p><p>“武士政权”统治时期演变为最高尊称。1192年，源氏武士集团首领源赖朝统一全国，在镰仓建立幕府后，将军作为“幕府”首脑掌握全国政权，世袭继承。镰仓、室町、江户三个“幕府时代”共约近700年，各由源氏、足利氏、德川氏世袭继承。明治维新中废除幕府和将军（1867）”</p><p>2021年3月16日 </p><p>“商人阶级总是封建制度的破坏者。商人一旦受到尊敬而繁荣，封建制度就会衰亡”</p><p>2021年3月16日 </p><p>“武士无须考虑生活来源，他完全成了仰赖领主者”</p><p>2021年3月16日 </p><p>“一个人的勇气和完美表现在与这些规范保持一致，而不是反抗或修改这些规范”</p><p>2021年3月16日 </p><p>“市民阶级：英文原著为“Bourgeosie”。此词原指欧洲中世纪末期城镇中既非贵族，亦非农民的商人、手工业者等。分化为雇主、雇工后，此词则指雇主。我国初采音译：“布尔乔亚”，其后译作“资产者”、“资产阶级”，有时也译作“中产者”或“市民阶级”</p><p>2021年3月16日 </p><p>“他们从来没有把自己的任务看成是意识形态的革命，而是当作一项事业”</p><p>2021年3月16日 </p><p>“日本将在“长辈”的领导下稳步前进，并可克服很多个人主义国家中无法避免的种种困难”</p><p>2021年3月17日 </p><p>“地方上的事必须由地方解决。日本人的生活方式是，分别分配适当的权力并规定其行使范围”</p><p>2021年3月17日 </p><p>“万物各得其所，各安其分。”</p><p>2021年3月17日 </p><p>“日本人还喜欢远途朝山拜庙，这也是愉快的休假。”</p><p>2021年3月17日 </p><p>“他们不喜欢随便受恩而背上人情债。他们常常谈及“使人受恩”，译成英文，最接近的词句是“imposing upon another”。但在美国，“imposing”，含有强求别人的意思。而在日本，“让人受恩”则表示给别人一些东西或者帮别人的忙”</p><p>2021年3月17日 </p><p>“明治维新以前，有一条人人熟知的法令：“遇有争端，无关者不得干预。”</p><p>2021年3月17日 </p><p>“表示谢意的最礼貌的说法是：“真过意不去”（日语是“気の毒”</p><p>2021年3月17日 </p><p>“小店主经常挂在嘴上的是“すみません，済みません”。这个词（すみません）的本意是：“这怎么得了呢？”即“我受了您的恩。但在目前经济安排下，我永远无法偿还，感到非常遗憾”。”</p><p>2021年3月17日 </p><p>“日本的老派店员在向顾客道谢时，仍使用“かたじけなぃ”（诚惶诚恐），顾客买货要求赊账时也说“かたじけなぃ”。这个词在明治以前的小说中，是经常出现的”</p><p>2021年3月17日 </p><p>“一个人一旦选择了让别人（哪怕是自己的子女）感受重恩的做法，那他要想改变这种做法，就必须牺牲自己。”</p><p>2021年3月17日 </p><p>“他们所说的“难以报恩于万一”。这种义务包括两类：一类是报答父母的恩——孝，另一类是报答天皇的恩——“忠”。”</p><p>2021年3月17日 </p><p>“日本的初等教育被称为“义务教育”，这实在是太恰当了，没有其他词能如此表达其“必修”之意。人的一生中的偶然事件可能改变义务的某些细节，但义务则是自动加在一切人身上并超越一切偶然情况的。”</p><p>2021年3月17日 </p><p>“七世纪以来，日本一再从中国引进伦理体系，“忠”、“孝”原来都是汉文。但是，中国人并没有把这些道德看成是无条件的。在中国，忠孝是有条件的，忠孝之上还有更高的道德，那就是“仁”，通常被译作“benevolence”（慈善、博爱），但它的含义几乎包罗了西方一切良好的人际关系”</p><p>2021年3月17日 </p><p>“在日本，这些观点显然与天皇制不相容，所以，即使作为学术理论，也从未全盘接受过。”②事实上，“仁”在日本是被排斥在伦理体系之外的德目，丧失了它在中国伦理体系中所具有的崇高地位。”</p><p>2021年3月17日 </p><p>“日本的孝道和中国的不一样，其范围不包括几百年前的祖先世系，也不包括所衍生的庞大宗族。日本人的祖先崇拜只限于近祖。”</p><p>2021年3月17日 </p><p>“日本所重视的孝道对象，只限于记忆中的祖先；他们注重的是现时现地。许多专著都论述到，日本人缺乏抽象思辨和构想非现实形象的兴趣。”</p><p>2021年3月17日 </p><p>“明治初期政治家在考察西方各国之后写道：那些国家的历史都是统治者与人民之间冲突的历史，这不符合日本精神。回国后，他们在宪法中写道，天皇“神圣不可侵犯”，对国务大臣的任何行为都不负责任。”</p><p>2021年3月17日 </p><p>“真正的根本性变动是在精神领域，因为，“忠”已变成每个日本人对神圣首领——最高主祭者和日本统一与永恒的象征——的报恩。”</p><p>2021年3月17日 </p><p>“明治维新以前一百年间，反德川势力利用的正是“万世一系”这个论据，而不是天皇神裔理论”</p><p>2021年3月17日 </p><p>“一方面，臣民向上直接对天皇，其间没有中介，他们自己用行动来使“陛下安心”；另一方面，天皇的敕令，又是经过天皇与大臣之间的各种中介者之手，层层传到他们耳朵的”</p><p>2021年3月17日 </p><p>“在美国，自尊心是与自己处理自己的事联系在一起的；在日本，自尊心则是与对施恩者报恩联系在一起的。”</p><p>2021年3月17日 </p><p>“他们获得了最珍视的东西，他们有权力说：这是天皇的命令，即使是投降的命令。也就是说，即使投降，最高的法律仍然是“忠”。”</p><p>2021年3月17日 </p><p>“义理”包含一系列混杂的义务”</p><p>2021年3月17日 </p><p>“从报答旧恩直到复仇”</p><p>2021年3月17日 </p><p>“义理”有显然不同的两类。一类我称之为“对社会的义理”，按字面解释就是“报答义理”，亦即向同伙人报恩的义务；另一类我称之为“对名誉的义理”，大体上类似于德国人的“名誉”，即保持名誉不受任何玷污的责任。“对社会的义理”可以大体描述为履行契约性的关系，它与“义务”的区别在于后者是履行生而具有的亲属责任”</p><p>2021年3月17日 </p><p>“在日本，婚姻当然是家庭与家庭之间的契约关系。对配偶的家庭终身履行契约性义务，就是“履行义理”，其中最沉重的是对安排此项契约的父母的“义理”。”</p><p>2021年3月17日 </p><p>“。对姻亲的义务则不能含糊，不论多大代价，必须履行，以免遭受世人谴责，说“此人不懂‘义理’”，这种谴责是令人可怕的。”</p><p>2021年3月17日 </p><p>“在德川氏未统一全国以前的日本，这种德行之重大在人们心目中超过当时的“忠”，即对将军的义务”</p><p>2021年3月17日 </p><p>“浪人（没有主君，依靠自己谋生的武士）”</p><p>2021年3月17日 </p><p>“日本人对颂扬复仇和颂扬捐躯尽忠，同样津津乐道。两者都是“义理”。尽忠是对主君的“义理”，对侮辱进行复仇则是对自身名分的“义理”。在日本，这是一块盾牌的两面。”</p><p>2021年3月17日 </p><p>“这些说法都有“不愿意”、“只是为了情面”的含义，恰如辞典解释的那样：“for ‘mere decency’s sake”。”</p><p>仅仅为了得体的目的。</p><p>2021年3月17日 </p><p>“一个人迫于“义理”，有时竟不得不无视正义。他们常说：“为了义理，我不能坚持正义”。”</p><p>2021年3月17日 </p><p>“对社会的义理”在英语中常常被译为“conformity to public opinion”（服从舆论）。”</p><p>2021年3月17日 </p><p>“美国人毫不介意、根本想不到会涉及义务的那些细小言行，日本人都要一一慎重对待；这意味终年在复杂环境中谨小慎微，唯恐有失。”</p><p>2021年3月17日 </p><p>“野口英世（1876—1928）”</p><p>2021年3月17日 </p><p>“对名分的“义理”，就是使名声不受玷污的义务。这种“义理”由一系列德行构成，在西欧人看来，有的互相矛盾，但对日本人来说则是完全统一的。因为这类义务不是报恩，不属于“恩的范围”，不涉及往日受恩于别人的问题，而是保持自身名誉的行为。”</p><p>2021年3月17日 </p><p>“日本人就是这样认为的。一个正派的人对恩惠和侮辱都同样感受强烈，都要认真回报。他们不像我们那样，把两者区别开来，一种称之为侵犯，另一种称之为非侵犯。在他看来，只有“义理”范围之外的行为才能称作侵犯。只要是遵守“义理”，洗刷污名，就绝不能说他犯了侵犯之罪，他只不过是算清旧账”</p><p>2021年3月17日 </p><p>“无论在日本，还是在西欧各国，凡是这种重视雪除名誉污点的道德观占优势的地方，其道德的核心总是超越一切物质意义的利益。一个人越是为了“名誉”牺牲其财产、家庭及自己的生命，就越被认为是道德高尚的人，它成为道德定义本身的一部分，是这些国家经常提倡的“精神”价值的基础”</p><p>2021年3月17日 </p><p>“他们说：“容忍退让是暴露对方蛮横无理的最好办法。”</p><p>2021年3月17日 </p><p>“关于武士的坚忍，有很多著名故事。他们必须能忍耐饥饿，这是无须说的小事一段，他们奉命要做到即使饿得要死，也必须装出刚刚吃完饭的样子，并且要用牙签剔牙。俗谚说：“雏禽求食而鸣，武士口含牙签”</p><p>2021年3月17日 </p><p>“在美国，自尊是与提高自己的地位联系在一起的。一成不变的取缔奢侈令是否定我们这个社会的基础的”</p><p>2021年3月17日 </p><p>“我们可以承认，（正如托克维尔那样）这种贵族制度的“真正尊严”正从近代世界中消逝，并且相信，另一种更优异的尊严正在取而代之。日本无疑也将如此。但在今天，日本只能在它自身的基础上重建其自尊，而不是在我们的基础上重建。而且，它只能用它自己的方式来纯化自身。”</p><p>2021年3月17日 </p><p>“因而不能当面过多地说别人专业上的失误，这既是一般礼节，也是一种明智”</p><p>2021年3月17日 </p><p>“这种敏感性在与人竞争而失败时尤为显著。比如，就业时别人被录用了，或者本人在竞争考试中落选了。失败者就会因失败而“蒙羞”。这种羞耻感有时会成为发奋的强烈动力，但更多的则变成危险的沮丧。他或者丧失自信心，忧郁不振，或者怒发冲冠，或者兼而有之”</p><p>2021年3月17日 </p><p>“对美国人来说特别重要的是，应当认识到：竞争在日本不会产生如同在美国的那种社会上可取的效果。”</p><p>2021年3月17日 </p><p>“当他们用自己的成绩来衡量自己的进步时，他们干得最好，如果与别人对照测试，就不是这样”</p><p>2021年3月17日 </p><p>“他们说，如果一个项目采用竞争的方法，被测试者的思想就会集中于担心失败，因而工作受到损失。他们对竞争对手异常敏感，仿佛是对自己的一种侵犯，因而注意力转到与侵犯者的关系上，而不是专心从事工作。③”</p><p>2021年3月17日 </p><p>“这种尽量减少直接竞争的做法，贯穿于日本人的全部生活”</p><p>2021年3月17日 </p><p>“日本人避免因失败而引起的耻辱。虽然他们强调有义务在受辱时要洗刷污名，但在实际生活中，这种义务使他们在处理事情时尽可能不致感到受辱。”</p><p>2021年3月17日 </p><p>“新渡户稻造”</p><p>2021年3月17日 </p><p>“日本历史故事中这两个主题：一个是有错误者向正确者进行报复；另一个是凡受辱必报复，即使对方是自己的主君。”</p><p>2021年3月17日 </p><p>“日本和俄国都是喜欢在小说中描写厌倦的民族，这和美国形成鲜明的对照。美国小说不大写这种题材。美国小说把书中人物的不幸归咎于性格缺陷，或残酷社会的虐待，而很少描写单纯的厌烦”</p><p>2021年3月17日 </p><p>“美国小说描写一个人与环境不协调总有一个原因，作者总是让读者从道义上责备主人公的性格缺陷或社会秩序中存在的弊端。日本也有无产者小说，谴责城市中可悲的经济状况以及渔船上的可怖事件。但是，正如一位作家说的，日本的人物小说所暴露的是这样一种社会，在那个社会里，人们情绪爆发时就像有毒的气体在飘荡。”</p><p>2021年3月17日 </p><p>“古代英雄惯于向敌人进行攻击，他们则把这种攻击转而向内。在他们看来，他们的忧郁似乎没有明确的原因。虽然也不无找些事件当作原因，但这些事件留给人们的印象则至多不过是一种象征。”</p><p>2021年3月17日 </p><p>“这种情绪之所以在这个阶层广泛蔓延，有充分的社会学原因。这是因为，知识分子过剩，他们在等级制中的地位很不稳定，只有极少数人能够满足其雄心壮志”</p><p>2021年3月17日 </p><p>“日本知识分子常把他们的抑郁归因于西方化造成的混乱，但这种说法并不对路”</p><p>2021年3月17日 </p><p>“这个民族确实丝毫未变。他们是以日本方式作出反应的。在顽强努力与消磨时光极端消沉之间，情绪摇摆不定，这对他们来说是很自然的”</p><p>2021年3月18日 </p><p>“武士道曾经是国家主义者和军国主义者的口号，随着这些领导人的信誉扫地，武士道的概念也正在受到怀疑。”</p><p>2021年3月18日 </p><p>“在日本人看来，只要在自己那个圈子里受到尊敬就是充分的回报，而“不懂义理者”仍然是受其同伴藐视和厌恶的“可悲者”。”</p><p>2021年3月18日 </p><p>“Nitobe, Inazo, The Soul of Japan（新渡户稻造：《武士道：日本的灵魂》），1900年，第83页。新渡户稻造（1862—1933）：日本教育家、农学家、政治家”</p><p>2021年3月18日 </p><p>“日本的道德准则极端要求回报义务和自我约束，似乎坚决要把私欲谴责为罪恶并要求从内心根除。古典佛教的教义就是这样。但日本的道德准则对感官享乐十分宽容，这就更加令人惊异。”</p><p>2021年3月18日 </p><p>“日本人并不谴责满足私欲。他们不是清教徒。他们认为肉体的享乐是件好事，是值得培养的。他们追求享乐，尊重享乐，但是，享乐必须恰如其分，不能妨碍人生重大事务。”</p><p>2021年3月18日 </p><p>“日本人一方面培养肉体享乐，另一方面又规定不能把享乐当做严肃的生活方式而纵情沉溺。”</p><p>2021年3月18日 </p><p>“恰如酷嗜热水澡，视为一大享乐一样，他们也重视“锻炼”，其传统包括最严厉的冷水浴。这种习惯往往被称作“寒稽古”（冬炼）或称“水垢离”，至今仍很盛行，但已不是老传统方式。”</p><p>2021年3月18日 </p><p>“睡眠也是“自成一案，与任何所知生死之事无关”。”</p><p>2021年3月18日 </p><p>“他们认为，像其他“人情”一样，只要把“性”放在人生的低微位置上就行。“人情”没有什么罪恶，因而对性的享受没有必要讲伦理道德”</p><p>2021年3月18日 </p><p>“他们把属于妻子的范围和属于性享乐的范围划得泾渭分明，两个范围都公开、坦率，而不是像美国生活中那样，一个可以公之于世，另一个则只能避人耳目。”</p><p>2021年3月18日 </p><p>“正像一位现代日本人在某杂志中说的：“在我们国家里，结婚的真正目的是生儿育女，传宗接代，其他任何目的，只能歪曲结婚的真实含义。”</p><p>2021年3月18日 </p><p>“他们丝毫不觉得自淫是罪恶而认为是一种享乐，只须在严谨的生活中把它放在微不足道的地位，就能充分控制”</p><p>2021年3月18日 </p><p>“古板的日本人严格区别饮酒和吃饭。在农村的宴会上，如果谁开始吃饭，就意味着他不再喝酒。他已涉足于另一个“世界”，对这两个“世界”区别得很清楚。在自己家里，他有时也在饭后饮酒，但绝不会一边饮酒一边吃饭，而是先享受一种，再享受另一种。”</p><p>2021年3月18日 </p><p>“日本人的上述“人情”观具有一些重要后果。它从根本上推翻了西方人关于肉体与精神两种力量在人的生活中互争雄长的哲学”</p><p>2021年3月18日 </p><p>“在日本人的哲学中，肉体不是罪恶。享受可能的肉体快乐不是犯罪。精神与肉体不是宇宙中对立的两大势力，这种信条逻辑上导致一个结论，即世界并非善与恶的战场。”</p><p>2021年3月18日 </p><p>“总之，无须欢乐结局，但求唤起对男女主角自我牺牲精神的惋惜和同情。”</p><p>2021年3月18日 </p><p>“道元禅师清规》赴粥饭法中有这样一段话：“俟闻钟磬，合掌揖食，次作五思：一计功之多少，思彼来处不易；二思己德匮乏，不足以受供奉；三思防心远过，以遁世为宗；四思食如良药，为治疗枯骸；五思今受此食，以为成道。”</p><p>2021年3月18日 </p><p>“源氏物语》：日本最早，也是世界最早的长篇小说。作者紫式部（978一约1018）。姓藤原，名不详（或云香子）。女歌人、文学家，后供职皇宫。紫式部是宫中女官名。《源氏物语》写于十一世纪初，以降为臣籍的皇子光源氏为中心，写宫廷贵族生活和一夫多妻制下的女性。54卷。是日本古典文学的代表作。我国有丰子恺中译本。”</p><p>2021年3月18日 </p><p>“日本人的人生观表现在他们的忠、孝、义理、仁、人情等德行规定之中。他们似乎认为，“人的义务的整体”像在地图上划分势力范围一样分成若干领域。”</p><p>2021年3月18日 </p><p>“他们的评论则是围绕主人公陷入“义理与人情”、“忠与孝”、“义理与义务”的矛盾。主人公的失败是因为溺于人情而忽视了“义理”的义务，或者是因为忠孝不能两全。他迫于“义理”而不能遵行正义，迫于义理而牺牲家庭。这些矛盾仍然是具有约束力的两种义务之间的矛盾。两者都是“善”的。”</p><p>2021年3月18日 </p><p>“1930年代，有一位著名的自由主义者曾经在公众面前说，回到日本后非常高兴，理由之一就是与妻子重逢。他为此受到世人的批评。人们认为，他应该说，是因为见到了父母，看到了富士山，以及能为日本的国家使命而献身。妻子是不属于这种层次的。”</p><p>2021年3月18日 </p><p>“这种设想的最权威宣言就是明治天皇于1882年（明治十五年）颁发的《军人敕谕》⑫。这份敕谕连同《教育敕语》⑬才是日本真正的圣典”</p><p>2021年3月18日 </p><p>“宣读之时，神圣庄严，听众毕恭毕敬，鸦雀无声。其尊敬程度犹如对待摩西十诫和旧约五书，每次捧读时从“奉安所”恭恭敬敬取出，听众散去后再恭恭敬敬送入“奉安所”。”</p><p>2021年3月18日 </p><p>“日本的伦理体系不是引进一个“大节”的概念就能轻易简化的。正如他们常常夸称，日本人没有一种现成的普遍适用的道德作为善行的试金石。在大多数文化中，一个人的自尊是以其道德水准，如善良、节俭以及事业上的成就为标准。他们总要提出某些人生目的作为追求的目标，如幸福、对他人的控制力量、自由、社会活动能力等。日本人则遵循着更为特殊的准则，不论是在封建时代还是在《军人敕谕》中，即使谈及“大节”，也只是意味着对等级制上层者的义务要压倒对下层者的义务。他们仍然是特殊对待的。西方人一般认为，所谓“大节”，是对忠诚的忠诚，而不是对某一特定个人或特定目标的忠诚。”</p><p>2021年3月18日 </p><p>“这反映了日本人的信条，即不仅要对行为本身负责，而且还要对行为的后果负责。最后，只有“诚实”的人才能领导别人，有效地运用手腕，而不纠缠于心理冲突。”</p><p>2021年3月18日 </p><p>“不管日本人怎样努力改进，日本的道德体系仍然处于多层次分散状态。道德的原则仍然是这个步骤和那个步骤相互保持平衡，各种行动本身都是善的。他们所建立的伦理体系宛如桥牌。优秀的选手是遵守规则并能在规则范围内获胜。他与低劣选手的区别，在于推理的训练，能够利用足够的知识根据竞赛规程判断其他选手的出牌意味着什么，从而打出自己的牌。用我们的话来说，他是按霍伊尔㉔规则比赛。每出一张牌都必须考虑到无数细微末节。比赛规则规定了一切可能出现的偶然性，记分办法也是预先确定的”</p><p>2021年3月18日 </p><p>“在日语中，“自重再自重”，是最强烈的语气，意思是万分小心，无限谨慎，绝不可轻下结论。它还意味着，必须权衡各种方法和手段，用力不多不少，恰可达到目的。”</p><p>2021年3月18日 </p><p>“所有上述“自重”的含义都符合日本人的人生观，即认为人生应该是小心谨慎地按照“霍伊尔”规则行动的世界”</p><p>2021年3月18日 </p><p>“在人类学对各种文化的研究中，区别以耻为基调的文化和以罪为基调的文化是一项重要工作。提倡建立道德的绝对标准并且依靠它发展人的良心，这种社会可以定义为“罪感文化”。”</p><p>2021年3月18日 </p><p>“但在以耻为主要强制力的地方，有错误的人即使当众认错，甚至向神父忏悔，也不会感到解脱。他反而会感到，只要不良行为没有暴露在社会上，就不必懊丧，坦白忏悔只能是自寻烦恼。因此，耻感文化中没有坦白忏悔的习惯，甚至对上帝忏悔的习惯也没有。他们有祈祷幸福的仪式，却没有祈祷赎罪的仪式。”</p><p>2021年3月18日 </p><p>“真正的耻感文化依靠外部的强制力来做善行。真正的罪感文化则依靠罪恶感在内心的反应来做善行”</p><p>2021年3月18日 </p><p>“现代美国人是如何为良心所苦恼。但是在美国，羞耻感正在逐渐加重其分量，而罪恶感则已不如以前那么敏锐。美国人把这种现象解释为道德的松弛。这种解释虽然也包藏着很多真理，但这是因为我们没有指望羞耻感能对道德承担重任。我们也不把伴随耻辱而出现的强烈的个人恼恨纳入我们道德的基本体系。”</p><p>2021年3月18日 </p><p>“知耻为德行之本。对耻辱敏感就会实践善行的一切准则。“知耻之人”这句话有时译成“有德之人”（Virtuous man），有时译成“重名誉之人”（Man of honour）。耻感在日本伦理中的权威地位与西方伦理中的“纯洁良心”、“笃信上帝”、“回避罪恶”的地位相等”</p><p>2021年3月18日 </p><p>“在他们看来，日本人的特殊问题在于，他们是靠这样一种微妙的安全感长大的，即只要一切都按规矩行事，就会得到别人承认。看到外国人对这类礼节满不在乎，他们就不知如何是好。他们千方百计寻找西方人生活中与日本人类似的细微礼节，找不到时，有的非常愤慨，有的则感到愕然。”</p><p>2021年3月18日 </p><p>“日本人自我修养的概念大致可分为两类，一类是培养能力，另一类则不仅培养能力，而且要求更高。这第二类，我称之为“圆熟”</p><p>2021年3月18日 </p><p>“不惜任何自我修养的代价”（at the price of whatever self-discipline）的意思往往是“不惜任何自我牺牲”（at the price of whatever self-sacrifice），而且有“不惜任何自我克制”之意”</p><p>2021年3月18日 </p><p>“日本人对基督教传教士关于自我牺牲的说教总是特别反对。他们极力主张，有道德的人不应当把为别人服务看做是压抑自己。”</p><p>2021年3月18日 </p><p>“一位法国学者在著作中认为完全是“无视常识”，说最讲究修养的教派——禅宗④是“集严肃的荒谬之大成”。可是，日本人企图通过这种技巧所要达到的目标却绝非不可理解。探讨这个问题有助于我们阐明日本人的精神驾驭术。”</p><p>2021年3月18日 </p><p>“僧问：“怎样才能避免生死轮回？”<br>师答：“谁束缚了你？（亦即谁把你绑在轮回之上？）”</p><p>2021年3月18日 </p><p>“画家、诗人、演说家及武士都用这种训练以求达到“无我”。他们学到的并不是“无限”，而是对有限美的、明晰的、不受干扰的感受；或者说，是学会调整手段与目标，用恰当的努力，不多不少，恰好达到目的。”</p><p>2021年3月18日 </p><p>“任何文化，其道德规范总要代代相传，不仅通过语言，而且通过长者对其子女的态度来传递。局外人如果不研究一国的育儿方式，就很难理解该国生活中的重大问题。”</p><p>2021年3月18日 </p><p>“圆熟：英文原著为“expertness”（熟练、内行）。日译本译作“练达”。”</p><p>2021年3月18日 </p><p>“观我、妨我：原文Observing self, Interfering self。意思是：“正在观察着的我”，也是“正在妨碍着进入无我境界的我”。”</p><p>2021年3月18日 </p><p>“轮回：梵文Samsara的意译。意为“流转”。佛教认为：众生皆以其所作善恶业因，在“六道”（天、人、阿修罗、地狱、饿鬼、畜生）中轮回。”</p><p>2021年3月18日 </p><p>“涅槃：梵文Nirvana的音译。与“寂灭”、“圆寂”、“入灭”同义，是最高境界。“灭”一切烦恼，“圆满”（具备）一切“清净功德”</p><p>2021年3月18日 </p><p>“尼采（Friedrich Nietzsche, 1844-1900）：德国唯心主义哲学家。鼓吹超人哲学。著有《悲剧的诞生》、《扎拉图斯特拉如是说》、《善恶的彼岸》等。”</p><p>2021年3月18日 </p><p>“三乘十二因缘：三乘，佛教宣称，人有三种根器，因此有三种修持途径，并比做“乘”三种车，故名三乘，即声闻乘、缘觉乘、菩萨乘。十二因缘，又称十二缘起，是佛教三世轮回的基本理论，包括无明，行，识，名色，六入，触，受，爱，取，有，生，老死。”</p><p>2021年3月18日 </p><p>“法华经：全称《妙法莲花经》。莲花，喻其清净微妙。谓释迦说法，唯一目的在使众生得到智慧，人人皆能成佛，唯有法华经才是“一乘法”，其他皆引导众生接受“一乘”法”</p><p>2021年3月18日 </p><p>“我们（美国父母）从一开始就教育婴儿，要他们懂得，在这个世界上，他们那些小小的愿望并不是至高无上、都必须满足”</p><p>2021年3月18日 </p><p>“日本的人生曲线与美国的人生曲线正好相反。它是一根很大的浅底U字形曲线，允许婴儿和老人有最大的自由和任性。随着幼儿期的过去，约束逐渐增加，结婚前后个人自由降至最低线。这个最低线贯穿整个壮年期，持续几十年，此后再次逐渐上升。过了六十岁，人又几乎可以像幼儿那样不为羞耻和名誉所烦恼。在美国，我们这种曲线是倒过来的，幼儿教养非常严格，随着孩子日益成长而逐渐放松，待至他找到能够自立的工作、有了自己的家庭，就几乎可以不受别人的任何掣肘”</p><p>2021年3月18日 </p><p>“在战后重建日本的事业中，关怀日本前途的领导者们，对战前日本成年学校和军队中这种侮辱青少年、戏弄青少年的习俗应当给予特别注意。应当充分强调“爱校精神”，以及“老同学关系”，以消除大欺小、高压低的习俗”</p><p>这本书是为了战后分析日本局势而写的，用批判的眼光去看，与当今日本社会的情况可能截然不同。</p><p>2021年3月18日 </p><p>“他们曾经学习中国习俗，继而又吸取西方学说，这就是证明。”</p><p>文化多元性带来的问题，没有自身的传统文化，大杂烩，没有一脉相承的文化底蕴。</p><p>2021年3月18日 </p><p>“自尊（自重）的人，其生活准绳不是明辨“善”、“恶”，而是迎合世人的“期望”，避免让世人“失望”，把自己的个人要求埋葬在群体的“期望”之中。这样的人才是“知耻”</p><p>个人要求埋葬在群体的期望之中，牺牲小我，成全大我。集体主义，泯灭个性。</p><p>2021年3月18日 </p><p>“日本人为他们的生活方式付出了很高的代价。他们自愿放弃了各种最基本的自由。这些自由，美国人视为理所当然，犹如呼吸空气。”</p><p>2021年3月18日 </p><p>“，战败以来，日本人正在追求民主。一旦他们能够率直而无顾虑地恣意行动，他们将会何等狂喜”</p><p>2021年3月18日 </p><p>“菊花完全可以摘除金属线圈，不经人工摆布而照样秀丽多姿。”</p><p>2021年3月18日 </p><p>“在日本，对自我负责的解释远比自由的美国更加严格。在这种意义上，刀不是进攻的象征，而是理想和敢于自我负责者的比喻。”</p><p>菊与刀的真实含义：园艺栽培的菊花摆脱金属丝的束缚，佩刀者要擦去刀身的锈迹，获得精神自由的同时使用自我负责的精神，约束行动，起到平衡作用。<br>美国人对自身文化有着充分的自信，也代表着世界文化的发展方向。</p><p>2021年3月18日 </p><p>“现在日本人已经在西方意义上提出了“放下刀”（投降），但在日本意义上，他们仍将强力关注，保持心中放刀，谨防锈蚀，保持光洁。用他们的道德术语来说，这种刀，乃是在更加自由、和平的世界也能保持其光洁的象征。”</p><p>2021年3月18日 </p><p>“和歌、俳句：和歌：日本古典格律诗的总称。有长歌、短歌。主要是短歌：每首五节、三十一音、按五七五五七为序。长歌则以五七音为一联，反复吟咏（三联以上、多为奇数）。俳句较短歌更短，三节十七音、按五七五为序。”</p><p>2021年3月18日 </p><p>“插花：即花道，源于佛教的供花，传自中国，从寺院流布民间，发展为各种流派。十五世纪池坊专庆创“立花”，池坊流成为最古老、最主要的流派。此后，有未生流、小原流、草月流、宏道流等。”</p><p>2021年3月18日 </p><p>“重光葵代表日本签字投降<br>（1945年9月2日，东京湾密苏里舰）”</p><p>2021年3月18日 </p><p>“我们曾不断争论媾和条件的宽严，但真正的问题并不在于宽严，而在于严如其分，恰足以摧毁传统的、危险的侵略性模式，建立起新的目标。至于选择何种手段则应根据该国国民的性格和传统的社会秩序而定。”</p><p>2021年3月18日 </p><p>“日本这样极易随着情况而改变道德标准的民族”</p><p>2021年3月18日 </p><p>“中国的当前目标是军事化，而其野心得到美国的支持。日本的国家预算中如果不包含军事化目标，它将在不远的将来奠定繁荣的基础，并成为东方贸易中的主角。它的经济将建立在和平利益的基础上，并将提高国民的生活水平”</p><p>笔记摘自: 鲁思·本尼迪克特. “菊与刀(增订版) (汉译世界学术名著丛书)。” Apple Books. </p>]]></content>
    
    
    <categories>
      
      <category>读书笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>日本文化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>企业安全建设指南</title>
    <link href="/2021/09/17/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/"/>
    <url>/2021/09/17/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/</url>
    
    <content type="html"><![CDATA[<h1 id="企业安全建设指南"><a href="#企业安全建设指南" class="headerlink" title="企业安全建设指南"></a>企业安全建设指南</h1><h2 id="目-录"><a href="#目-录" class="headerlink" title="目　　录"></a>目　　录</h2><h2 id="序一"><a href="#序一" class="headerlink" title="序一"></a>序一</h2><p>安全圈无论是国内外，颇有江湖侠客之风：英雄不问出处，尊重个性，崇尚技术，追求卓越；靠着先天之悟性和后天之勤奋，从业者可以一战成名，受众人尊重甚至追随。<br>或许各家企业起心动念起点不同，但无论是主动谋求长治久安，还是仅仅为形势环境所迫，无一例外都已经将信息安全作为一项重中之重的任务来抓。</p><ol><li>信息安全工作定位：业务永远是其根本和主业，IT不可倒逼公司做投入。</li><li>信息安全工作重要性：</li><li>工作复杂性：</li><li>工作的横向协作。</li></ol><h2 id="序二"><a href="#序二" class="headerlink" title="序二"></a>序二</h2><ol><li>安全问题是一个信任的问题。我们无从解决一个没有任何信任基础的安全问题，怀疑主义者如果怀疑一切，那么就失去了出发点。基本的信任就像一个世界中的远点，只有从原点出发，才有可能推导出一切。就像可信计算中的信任链传递，在最底层最基础的部分，一定有一个可信任的芯片，它是一切的基础。如果这个基础的信任假设不成立，那么构建的一切上层建筑将随之崩溃。</li><li>安全问题是一个研究对抗的科学。</li><li>安全问题是一个概率问题。</li><li>安全是一门应用科学。安全从对抗中来，最终还是要回到对抗中去，到底好不好，要看疗效。</li><li>永远对新技术保持敏感、乐于接受先进生产力。区块链的出现，在可以预见的未来，将成为极其重要的基础设施。这让我们有可能第一次真正解决数据共享中的信任问题。信任的门槛被降低后，将会改变人类生活的方方面面。</li></ol><h2 id="序三"><a href="#序三" class="headerlink" title="序三"></a>序三</h2><ol><li>如何避免“为了安全而安全”!</li><li>安全工作充满挑战，道阻且长，但也机遇遍地，值得每一个从业者奋不顾身。</li><li>寄愿安全圈的伙伴们始终都充满希望，始终有颗感恩的新，有颗持续让自己变得更好的心，永远坚持，永不放弃。</li></ol><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ol><li>解决企业安全最后一公里问题，通过安全实践落地，最终实现安全有效性的提升。</li><li>要将安全性当做可用性来运营，安全才是有效的。<ul><li>缺少特别好的商业化工具，能够结合企业内部的流程和人员，提高安全运营效率；</li><li>没有统一的安全运营标准。</li></ul></li><li>不同的行业、企业规模、面临的风险威胁、企业文化和实际需求、安全投入等，其安全建设之路也风格迥异，但做得好的企业都<strong>侧重解决实际安全问题，日拱一卒，积极实践</strong>。</li><li>不忘初心，方得始终。初心易得，始终难守。</li><li>做了这么多项具体的工作，写了这么多份具体的报告，最终能留下的，到底还剩什么？报告本身已经完成了它短暂的使命，工作本身已经实现了它当时的价值。但是除了每天埋头完成这些来自各种不同渠道的任务以外，我可以给后面从事同类工作的小伙伴留下些什么，能够积累、沉淀、传承些什么？一个人的力量是有限的，能直接管理和培养的团队也是有限的，如果能将个人的经历变成可以复制的经验，对于未来的团队的培养，对于行业的信息安全工作，也许都可以是一个小小的贡献。</li><li>一直希望自己能做些什么，可以帮助后来的伙伴们拓展一些思路，少走一些弯路，加快一点步伐。把自己想过的、做过的、错过的，都分享出来，也许是一个办法。</li><li>事非经过不知难。工作是修行，写书是修行，人生是修行。修行，永远在路上。</li></ol><h2 id="第一部分-安全架构"><a href="#第一部分-安全架构" class="headerlink" title="第一部分　安全架构"></a>第一部分　安全架构</h2><h3 id="第1章-企业信息安全建设简介"><a href="#第1章-企业信息安全建设简介" class="headerlink" title="第1章　企业信息安全建设简介"></a>第1章　企业信息安全建设简介</h3><h4 id="1-1-安全的本质2"><a href="#1-1-安全的本质2" class="headerlink" title="1.1　安全的本质2"></a>1.1　安全的本质2</h4><ol><li>互联网本来是安全的，自从有了“研究安全”的人，就变得不安全了。</li><li>计算机用0和1定义整个世界，而企业的信息安全目标是解决0和1之间的广大灰度数据，运用各种措施，将灰度数据识别为0（不值得信任）或1（值得信任）。信任是信息安全问题的本源。</li><li>不同的信任假设决定了安全方案的复杂程度和实施成本，安全需要找到某个自己可以接受的“信任点”，并在这个点上取得成本和效益的平衡。</li></ol><h4 id="1-2-安全原则2"><a href="#1-2-安全原则2" class="headerlink" title="1.2　安全原则2"></a>1.2　安全原则2</h4><p>信息安全原则主要有三点：持续改进、纵深防御和飞对称。</p><ol><li>持续改进，PDCA（plan，do，check，act）循环，螺旋式上升，是信息安全的第一个原则；</li><li>纵深防御：<ul><li>web应用漏洞——&gt;低权限WebShell——&gt;上传文件提权——&gt;横向渗透，获得内网权限；</li><li>网络层、虚拟层、系统层、应用层到数据层、用户层、业务层、总控层，进行层层防御，共同组成整个防御体系。</li></ul></li><li>非对称：安全防护人员需要非对称思维，各种“蜜”产品，安全反制。</li></ol><h4 id="1-3-安全世界观4"><a href="#1-3-安全世界观4" class="headerlink" title="1.3　安全世界观4"></a>1.3　安全世界观4</h4><p>信息安全就是博弈和对抗，是一场人与人之间的战争。</p><h4 id="1-4-正确处理几个关系4"><a href="#1-4-正确处理几个关系4" class="headerlink" title="1.4　正确处理几个关系4"></a>1.4　正确处理几个关系4</h4><ol><li>安全是为业务服务的，安全更是业务的属性之一，不安全或没有安全考虑的业务就像不合格的产品一样，终究是要被市场淘汰的。</li></ol><h4 id="1-5-安全趋势6"><a href="#1-5-安全趋势6" class="headerlink" title="1.5　安全趋势6"></a>1.5　安全趋势6</h4><ol><li>程序员在用代码改变世界的同时，也有义务更好的保护世界。</li><li>会有越来越多的甲方企业，要求乙方建立专门服务于本企业的专业安全队伍。从市场经济的角度看，需求增大，必将导致更多的优秀人才投身于安全行业。安全行业是是典型的活到老、学到老的行业，逆水行舟，不进则退。</li></ol><h4 id="1-6-小结7"><a href="#1-6-小结7" class="headerlink" title="1.6　小结7"></a>1.6　小结7</h4><h3 id="第2章-金融行业的信息安全8"><a href="#第2章-金融行业的信息安全8" class="headerlink" title="第2章　金融行业的信息安全8"></a>第2章　金融行业的信息安全8</h3><h4 id="2-1-金融行业信息安全态势8"><a href="#2-1-金融行业信息安全态势8" class="headerlink" title="2.1　金融行业信息安全态势8"></a>2.1　金融行业信息安全态势8</h4><ol><li>“管理流派”——&gt;“设备流派”——&gt;“数据流派”</li><li>2009年银监会印发《商业银行信息科技风险管理指引》是监管基础。</li><li>金融行业特点：<ul><li>整体信息化程度高，为了趋势是进一步的数字化、智能化，被攻击的风险点增多，薄弱环节增加，脆弱性增大，遭受攻击的可能性上升；</li><li>金融服务实时性和准确性要求高，对于信息安全问题的容忍度低，出现问题后社会影响大，舆论压力大；</li><li>直接处理对象为资金，敏感信息价值高，攻击活力性大，动机强；</li><li>金融行业积极应用新技术，但信息安全防控往往滞后于新技术应用，面临新风险无法得到及时有效的控制。</li></ul></li><li>从组织架构、制度流程、团队能力、安全意识、外包管理、安全技术等各方面统筹做好规划和落地实施，方可满足自身需要。<h4 id="2-2-金融行业信息安全目标10"><a href="#2-2-金融行业信息安全目标10" class="headerlink" title="2.2　金融行业信息安全目标10"></a>2.2　金融行业信息安全目标10</h4></li></ol><p>“一千个人心中有一千个哈姆雷特”，xx行业的信息安全从业人员，对于xx企业信息安全工作目标的理解也都是不尽相同的。对于所有xx企业来说，必须建立和保证信息安全的核心目标和安全基线，在此基础上，可以根据xx企业的战略方向、风险偏好、管理要求进行量体裁衣，做出选择和调整。</p><ol><li>务虚角度：核心目标是，通过信息安全建设和管理，有效控制和防范信息安全风险，提高信息安全保障能力和水平，确保xx企业及客户的信息及资金安全。</li><li>务实角度：工作核心目标是两个“两手抓”：一是“一手抓安全合规，一手抓风险控制”；二是“一手抓安全管理，一手抓安全技术”。</li><li>明确信息安全的工作范围，在信息安全工作的各个领域建立信息安全工作基线，同事采取措施确保安全基线的达成。</li><li>安全基线：安全管理基线和安全技术基线。<br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/%E5%AE%89%E5%85%A8%E5%9F%BA%E7%BA%BF.png" alt="img"></li></ol><h4 id="2-3-信息安全与业务的关系：矛盾与共赢12"><a href="#2-3-信息安全与业务的关系：矛盾与共赢12" class="headerlink" title="2.3　信息安全与业务的关系：矛盾与共赢12"></a>2.3　信息安全与业务的关系：矛盾与共赢12</h4><ol><li>事前预防、事中拦截、事后警告。</li><li>信息安全与业务共赢:<ul><li>风险分类：根据风险的大小及发生频率，优先化解高风险或者高频交易风险，对风险分级分类；</li><li>前轻后重。前端尽可能简化规则，客户信息遵循“必须知道、最小原则”，身份验证方式遵循“够用就好原则”，后台风控必须到位，要有黑名单或灰名单用户，要有风险监测模型，要有紧急情况下一键关停规避风险的功能。</li><li>客户风险等级分类</li><li>额度管控（业务管控），在业务环节增加验证机制。</li></ul></li></ol><h4 id="2-4-信息安全与监管的关系：约束与保护13"><a href="#2-4-信息安全与监管的关系：约束与保护13" class="headerlink" title="2.4　信息安全与监管的关系：约束与保护13"></a>2.4　信息安全与监管的关系：约束与保护13</h4><h4 id="2-5-监管科技14"><a href="#2-5-监管科技14" class="headerlink" title="2.5　监管科技14"></a>2.5　监管科技14</h4><h4 id="2-6-小结16"><a href="#2-6-小结16" class="headerlink" title="2.6　小结16"></a>2.6　小结16</h4><h3 id="第3章-安全规划17"><a href="#第3章-安全规划17" class="headerlink" title="第3章　安全规划17"></a>第3章　安全规划17</h3><p>凡事预则立，不预则废。</p><h4 id="3-1-规划前的思考17"><a href="#3-1-规划前的思考17" class="headerlink" title="3.1　规划前的思考17"></a>3.1　规划前的思考17</h4><h4 id="3-2-规划框架18"><a href="#3-2-规划框架18" class="headerlink" title="3.2　规划框架18"></a>3.2　规划框架18</h4><h4 id="3-3-制订步骤19"><a href="#3-3-制订步骤19" class="headerlink" title="3.3　制订步骤19"></a>3.3　制订步骤19</h4><h5 id="3-3-1-调研19"><a href="#3-3-1-调研19" class="headerlink" title="3.3.1　调研19"></a>3.3.1　调研19</h5><h5 id="3-3-2-目标、现状和差距20"><a href="#3-3-2-目标、现状和差距20" class="headerlink" title="3.3.2　目标、现状和差距20"></a>3.3.2　目标、现状和差距20</h5><ol><li><p>目标绝对不合理：对未来的预测，下的决心和战略想法</p></li><li><p>实现目标的行动必须合理。</p><ul><li>目标一定是从上往下的</li><li>目标必须是个人的目标</li><li>每一个人承接的不是目标，而是一套解决方案。</li></ul></li><li><p>目标设定的SMART原则</p><ul><li>Specific——明确性</li><li>Measurable——衡量性</li><li>Attainable——可实现性</li><li>Relevant——相关性</li><li>Time-bound——时限性</li></ul></li><li><p>现状和差距分析：</p></li><li><p>分析纬度要全：安全管理，安全防护，安全运营，安全资源，安全度量五个纬度。    - 安全管理：组织架构、职责、制度、考核；    - 安全防护：覆盖网络层、虚拟层、系统层、应用层、数据层、用户层的纵深防护技术体系；    - 安全运营：安全运维，安全验证，安全反制；    - 安全资源：人员，流程，资源    - 安全度量：技术纬度，安全运营成效，安全满意度，安全价值</p></li><li><p>敢于自我否定。</p></li></ol><h5 id="3-3-3-制订解决方案22"><a href="#3-3-3-制订解决方案22" class="headerlink" title="3.3.3　制订解决方案22"></a>3.3.3　制订解决方案22</h5><ol><li>体系化：从管理和技术两个方面考虑解决措施，得到综合结果</li><li>可持续：</li><li>可接收：制定解决方案后，确保团队每位成员都从心里认同，接收。</li></ol><h5 id="3-3-4-定稿23"><a href="#3-3-4-定稿23" class="headerlink" title="3.3.4　定稿23"></a>3.3.4　定稿23</h5><h5 id="3-3-5-上层汇报23"><a href="#3-3-5-上层汇报23" class="headerlink" title="3.3.5　上层汇报23"></a>3.3.5　上层汇报23</h5><p>如何管理你的上级，将上级作为你工作的资源之一。</p><ol><li>建立面向高级管理层、团队内部的工作汇报体系。内容包括：工作规划、整体形势、重大决策等。</li><li>在部门和团队内部进行常态化的工作汇报，围绕三个目的展开：介绍取得的成果，表扬先进和督促后进，索要资源。<h5 id="3-3-6-执行与回顾23"><a href="#3-3-6-执行与回顾23" class="headerlink" title="3.3.6　执行与回顾23"></a>3.3.6　执行与回顾23</h5>一个看似一般但严格执行的规划，远胜于一个看似很好却无法或未能执行的规划。确保工作规划落实最好方法：<strong>将规划目标分解落实到工作重点项目和工作任务，再将重点项目和工作任务分解落实到安全团队每位员工的年度绩效考核中。</strong><br>任正非：方向可以大致正确，组织必须充满活力。</li></ol><h4 id="3-4-注意事项24"><a href="#3-4-注意事项24" class="headerlink" title="3.4　注意事项24"></a>3.4　注意事项24</h4><p>工作规划是一套行动方案，规划不是目标分解，而是行动指南。</p><ol><li>要有逻辑，切忌堆砌，为什么做这些工作，能解决什么问题，提高到什么安全水平，和同行业差距；</li><li>既要实（可落地），也要虚（远大目标），虚实结合。总体目标、方向上可以务虚，具体措施、行动上必须务实。</li></ol><h4 id="3-5-小结24"><a href="#3-5-小结24" class="headerlink" title="3.5　小结24"></a>3.5　小结24</h4><p>重视工作规划，规划是“纲”，适时做出一份看起来高大上、实际实施又接地气、可执行的信息安全规划，是企业安全负责人的必备技能。<br>纲举目张。</p><h3 id="第4章-内控合规管理25"><a href="#第4章-内控合规管理25" class="headerlink" title="第4章　内控合规管理25"></a>第4章　内控合规管理25</h3><h4 id="4-1-概述25"><a href="#4-1-概述25" class="headerlink" title="4.1　概述25"></a>4.1　概述25</h4><h5 id="4-1-1-合规、内控、风险管理的关系25"><a href="#4-1-1-合规、内控、风险管理的关系25" class="headerlink" title="4.1.1　合规、内控、风险管理的关系25"></a>4.1.1　合规、内控、风险管理的关系25</h5><ol><li>合规管理是最基础的层面；</li><li>内控不但要求合规，还要审视“规”是不是完善，“规”有没有配备相应的执行点，执行“规”的过程是不是有效。</li><li>全面风险管理是风险管控的最高形式。风险按标准划分为市场风险、信用风险、流动性风险、操作风险、法律风险。<h5 id="4-1-2-目标及领域25"><a href="#4-1-2-目标及领域25" class="headerlink" title="4.1.2　目标及领域25"></a>4.1.2　目标及领域25</h5>通过建立有效的机制，实现对企业IT风险的识别、计量、监测和控制，对外保障IT活动符合监管机构各项管理要求，对内确保各项管理要求的落地和控制措施有效，最终实现IT风险可控。<br>IT内控合规管理领域包括：信息科技风险管理、监督检查、制度和公文管理、业务连续性管理、信息科技外包管理、分支机构管理以及其他一些工作。<br>“运用之妙，存乎一心”<h5 id="4-1-3-落地方法26"><a href="#4-1-3-落地方法26" class="headerlink" title="4.1.3　落地方法26"></a>4.1.3　落地方法26</h5></li><li>外规对内规：外部规范要求分解成元要求，去重合并，和内部规范一一对应，结果满足要求、冲突、缺失。</li><li>内规对检查：梳理出内部规范后，建立一套适用的检查标准，常规检查、专项检查和事件驱动检查。</li><li>检查对整改：建立一套电子化系统，实现检查计划制订、检查实施、报告管理、问题跟踪等全过程电子化管理。</li><li>整改对考核：将检查发现和整改情况纳入团队和个人当月和年度考核，实实在在的与个人收入挂钩，引起重视，提高整改达成率。<h4 id="4-2-信息科技风险管理26"><a href="#4-2-信息科技风险管理26" class="headerlink" title="4.2　信息科技风险管理26"></a>4.2　信息科技风险管理26</h4><h5 id="4-2-1-原则27"><a href="#4-2-1-原则27" class="headerlink" title="4.2.1　原则27"></a>4.2.1　原则27</h5>信息科技风险：运用信息科技过程中，由于自然因素、认为因素、技术漏洞或管理缺陷产生的操作、法律和声誉等风险。</li><li>事前预防为主原则：风险发生前建立有效的风险管理措施，降低风险发生的可能性或减少风险可能造成的损失。</li><li>全面性原则：风险管理应覆盖到全行各部门、岗位、人员及操作环节中，使信息科技风险能够被识别、评估、计量、监测和控制。</li><li>成本效益原则：实施成本和可能造成的损失进行分析比较，选取成本效益最佳的风险控制方案。<h5 id="4-2-2-组织架构和职责27"><a href="#4-2-2-组织架构和职责27" class="headerlink" title="4.2.2　组织架构和职责27"></a>4.2.2　组织架构和职责27</h5>三道防线：</li><li>信息科技部门</li><li>风险管理部门</li><li>稽核审计部门<h5 id="4-2-3-管理内容28"><a href="#4-2-3-管理内容28" class="headerlink" title="4.2.3　管理内容28"></a>4.2.3　管理内容28</h5></li></ol><h5 id="4-2-4-管理手段和流程29"><a href="#4-2-4-管理手段和流程29" class="headerlink" title="4.2.4　管理手段和流程29"></a>4.2.4　管理手段和流程29</h5><p>管理三原则：</p><ol><li>最小特权（指授予完成任务所需的最小权限）</li><li>岗位轮换（重要岗位强制休假/轮换）</li><li>职责分离（消除高风险权限组合）<h5 id="4-2-5-报告机制30"><a href="#4-2-5-报告机制30" class="headerlink" title="4.2.5　报告机制30"></a>4.2.5　报告机制30</h5></li></ol><h5 id="4-2-6-信息科技风险监控指标32"><a href="#4-2-6-信息科技风险监控指标32" class="headerlink" title="4.2.6　信息科技风险监控指标32"></a>4.2.6　信息科技风险监控指标32</h5><h4 id="4-3-监督检查34"><a href="#4-3-监督检查34" class="headerlink" title="4.3　监督检查34"></a>4.3　监督检查34</h4><h4 id="4-4-制度管理36"><a href="#4-4-制度管理36" class="headerlink" title="4.4　制度管理36"></a>4.4　制度管理36</h4><p>确保制度的合规性、有效性、可操作性及规范性，才能更好的管理和约束员工，形成有序、良性发展。<br>制度一般以条文形式展示，名称通常冠以政策、规定、办法、规程、细则、指引等；制度可以通过制度补丁的方式进行调整、补充和完善，制度补丁可以采取条文或非条文的形式展示，一般以修订通知、补充通知或加强管理通知等标题体现。</p><ol><li>制度体系应遵循架构合理、层级清晰、覆盖全面的原则，体系包括三级：<ol><li>政策级制度</li><li>办法级制度</li><li>规程级制度</li></ol></li><li>制度的起草过程中，应开展调查研究，以论证制度的必要性、有效性、合理性和可操作性。</li><li>制度内容：总则（目的依据、适用范围、管理原则、职责分工、定义等）、管理流程、监督检查及罚则（如有）、附则（制定细则要求、解释部门、施行日期、作废声明等）。</li><li>制度评审</li><li>制度发布</li><li>制度维护<ol><li>是否存在合规性、有效性、可操作性和规范性等制度问题；</li><li>制度间是否存在重复、冲突；</li><li>是否存在制度缺失和管理盲点；</li><li>对制度进行梳理，摸清制度补丁情况，评估实施整合的可行性和必要性。</li></ol></li><li>施行超过5年的制度，主办部门必须进行制度后续评估，评估结果报同级制度主管部门。</li><li></li><li><h4 id="4-5-业务连续性管理38"><a href="#4-5-业务连续性管理38" class="headerlink" title="4.5　业务连续性管理38"></a>4.5　业务连续性管理38</h4><h5 id="4-5-1-定义和标准38"><a href="#4-5-1-定义和标准38" class="headerlink" title="4.5.1　定义和标准38"></a>4.5.1　定义和标准38</h5>业务连续性管理（Business Continuity Management，BCM）是一个整体性的管理流程，识别威胁组织的潜在影响，提供构建组织弹性和有效响应的框架，保护组织关机相关方的利益、声誉、品牌以及价值创造的活动。<h5 id="4-5-2-监管要求39"><a href="#4-5-2-监管要求39" class="headerlink" title="4.5.2　监管要求39"></a>4.5.2　监管要求39</h5></li></ol><h5 id="4-5-3-BCM实施过程40"><a href="#4-5-3-BCM实施过程40" class="headerlink" title="4.5.3　BCM实施过程40"></a>4.5.3　BCM实施过程40</h5><h5 id="4-5-4-业务影响分析和风险评估40"><a href="#4-5-4-业务影响分析和风险评估40" class="headerlink" title="4.5.4　业务影响分析和风险评估40"></a>4.5.4　业务影响分析和风险评估40</h5><h5 id="4-5-5-BCP、演练和改进43"><a href="#4-5-5-BCP、演练和改进43" class="headerlink" title="4.5.5　BCP、演练和改进43"></a>4.5.5　BCP、演练和改进43</h5><h5 id="4-5-6-DRI组织及认证45"><a href="#4-5-6-DRI组织及认证45" class="headerlink" title="4.5.6　DRI组织及认证45"></a>4.5.6　DRI组织及认证45</h5><h4 id="4-6-信息科技外包管理46"><a href="#4-6-信息科技外包管理46" class="headerlink" title="4.6　信息科技外包管理46"></a>4.6　信息科技外包管理46</h4><h4 id="4-7-分支机构管理46"><a href="#4-7-分支机构管理46" class="headerlink" title="4.7　分支机构管理46"></a>4.7　分支机构管理46</h4><ol><li>合规管理：遵守制度，全覆盖检查，可以远程和现场结合的方式进行，合规检查纳入当年度分支机构考核；</li><li>事件管理和问题管理：发生可用性事件和安全事件时，进行事件调查和处理，改进措施纳入问题管理跟踪督促；</li><li>项目推广</li><li>人才培养</li><li>建立定期会议机制。</li><li>建立分支机构评级机制。</li><li>开展分支机构检查并全覆盖，确保管理要求落地。<h4 id="4-8-信息科技风险库示例47"><a href="#4-8-信息科技风险库示例47" class="headerlink" title="4.8　信息科技风险库示例47"></a>4.8　信息科技风险库示例47</h4></li></ol><h4 id="4-9-小结49"><a href="#4-9-小结49" class="headerlink" title="4.9　小结49"></a>4.9　小结49</h4><p>建立一套xxx的闭环管理体系。</p><h3 id="第5章-安全团队建设50"><a href="#第5章-安全团队建设50" class="headerlink" title="第5章　安全团队建设50"></a>第5章　安全团队建设50</h3><p>对团队的基础能力、学习能力、创新能力都提出了巨大的挑战。工作的完成是虚有其表，还是卓有成效，最核心的决定因素在于是否建立起一支懂管理、精技术、基本功扎实、战斗力强劲的技术服务团队。</p><h4 id="5-1-安全团队建设的“痛点”50"><a href="#5-1-安全团队建设的“痛点”50" class="headerlink" title="5.1　安全团队建设的“痛点”50"></a>5.1　安全团队建设的“痛点”50</h4><ol><li>价值感和存在感缺乏</li><li>投入少，绩效衡量难<ul><li>无法量化数据，是运气好没被盯上还是自己篱笆扎得紧，难以评估和量化。</li></ul></li><li>风险压力大</li><li>综合性人才、专业人才稀缺</li><li>职业规划前景不明，职业发展的“天花板”较低</li><li><h4 id="5-2-安全团队面临的宏观环境54"><a href="#5-2-安全团队面临的宏观环境54" class="headerlink" title="5.2　安全团队面临的宏观环境54"></a>5.2　安全团队面临的宏观环境54</h4></li></ol><h4 id="5-3-安全团队文化建设56"><a href="#5-3-安全团队文化建设56" class="headerlink" title="5.3　安全团队文化建设56"></a>5.3　安全团队文化建设56</h4><p>“企业文化就是企业发展的DNA”。文化建设就像一根纽带，把团队每一名成员的个人价值观和奋斗目标，与团队的价值观和整体目标紧密联系在一起，促使每个成员产生强烈的归属感和荣誉感，最大程度的激发每个成员的积极性和创造性，从而使他们能发挥最大的主观能动性，创造出最大的价值，实现团队整体合力最大化。<br>团队文化，必须针对企业、组织、部门工作普遍面临的问题点和“痛点”，结合宏观环境而制定，必须取得团队的认同感，对团队成员有实实在在的凝聚和激励作用。团队文化遵循“仰望星空，脚踏实地”的原则，既要有相对宏伟、虚化的愿景性文化，也需要有相对微观、接地气的写实性文化。</p><ol><li><p>格局为先，看到工作对企业战略落地、业务发展、科技工作、内外部客户保驾护航的重要价值，发自内心的热爱，充满激情的努力，“呕心沥血，孜孜以求”。从企业价值的角度看待自己的发展。</p><ul><li>打破边界，看得更高、更远、更深</li><li>“以终为始”，凡是以目标为导向，及时调整方法</li><li>坚韧不拔，砥砺前行，不消极抱怨，不妄自菲薄</li><li>以大集体、大团队的目标为先，突破小团队的局限，互惠合作，实现企业整体目标</li><li>带动团队开阔视界，与同业、对手、合作伙伴更多的交流，吐故纳新，扬长避短，推动格局和视野的螺旋上升，形成良性循环。</li></ul></li><li><p>认同价值<br>踏实做好基础性工作，不好高骛远，不贪多求快。<br>工作价值体现在多个层面：</p><ul><li>国家、社会的宏观层面<ul><li>xx是xx的核心，xx安全是国家安全的重要组成部分</li><li>与每个人息息相关，肩负着重要使命，时刻警惕、厉兵秣马、未雨绸缪、坚守岗位。</li></ul></li><li>行业、企业的微观层面<ul><li>保障工作的合法合规，保障系统稳定运行，保障业务服务的连续和安全，保障客户信息不被泄露。“合规创造价值”“安全保障创新”。</li></ul></li></ul></li><li><p>专业自信<br>保持专业水准，是信息安全团队自信的来源，是团队核心竞争力不可替代性的体现。团队应时刻思考，如何提升自己的专业能力，如何建立对工作、对自己的信心，满怀激情地将工作做到极致，才能使团队的价值最大化。</p><ul><li>有规划意识，构建信息安全的整体逻辑架构</li><li>了解安全形势</li><li>了解整个行业和信息安全产业</li><li>深入学习掌握专业知识</li><li>多思考、多总结、多分析，形成罗技框架和专业经验</li><li>分清主次，抓住重点。各个击破、力求化解，以点带面，切忌不求甚解，囫囵吞枣。</li></ul></li><li><p>处处用心<br>稻盛和夫在《心》中写道：“抱利他之心，行利他之事，命运自然会好转。宇宙中俨然存在这样的因果法则。”</p></li><li><p>养成习惯</p><ol><li>计划的习惯：明确完成时间、责任人、资源需求、配合工作方、工作提交件和完成标志等。<ol><li>例行性工作计划</li><li>专项工作计划</li><li>安全整改类工作计划</li><li>突发性工作计划</li></ol></li><li>敢于承诺和遵守承诺的习惯。</li><li><del>高效处理邮件的习惯</del></li><li>认真完成文档撰写的习惯<ol><li>力求逻辑严密：麦肯锡国际管理咨询公司的咨询顾问芭芭拉明托《金字塔原理》提出MECE（Mutually Exclusive Collectively Exhaustive）原则，“相互独立，完全穷尽”，对于一个重大的议题，要做到不重叠，不遗漏的分类，把握问题的核心和关键点。</li><li>注意阅读对象：谁看，关注什么，解决什么问题</li><li>避免低级错误，“见微知著”<h4 id="5-4-安全团队意识建设63"><a href="#5-4-安全团队意识建设63" class="headerlink" title="5.4　安全团队意识建设63"></a>5.4　安全团队意识建设63</h4>《易经·系辞》“形而上者谓之道，形而下者谓之器”<br>领导建立服务意识，服务于员工，希望员工变得优秀。</li></ol></li></ol></li><li><p>客户意识</p></li><li><p>责任意识</p></li><li><p>风险意识<br>信息安全团队必须建立对风险的“敬畏之心”，不能把安全防控重点放在风险事件发生之后疲于奔命的应急位置，不应该总是承担“救火队员”，而应该风险迁移，工作重心放在事前预防、事中控制，重点放在对尚未暴露的风险隐患的排查、发现和及时化解，做到未雨绸缪，心中有数，防患于未然。</p><ol><li>冰山理论：浮出水面的部分只有十分之一</li><li>海恩法则：每一起严重的航空事故背后，必然有近29起轻微事故和300多起未遂事故先兆，以及1000起事故隐患</li><li>墨菲定律：如果坏事可能发生，不管可能性多么小，他总会发生，并引起最大可能的损失。</li></ol></li><li><p>创新意识</p><ol><li>理念创新</li><li>制度创新</li><li>技术创新</li></ol></li><li><p>学习意识：打造学习型的信息安全团队</p></li><li><p>沟通意识：</p><h4 id="5-5-安全团队能力建设67"><a href="#5-5-安全团队能力建设67" class="headerlink" title="5.5　安全团队能力建设67"></a>5.5　安全团队能力建设67</h4><p>一个好团队的建设标准，可以采用“两个离开”来衡量</p></li><li><p>团队成员要有能力离开，提升知识和技能；</p></li><li><p>团队成员不愿意离开，提升凝聚力以及团队成员的价值感和归属感。</p><h5 id="5-5-1-确定目标，找准主要矛盾68"><a href="#5-5-1-确定目标，找准主要矛盾68" class="headerlink" title="5.5.1　确定目标，找准主要矛盾68"></a>5.5.1　确定目标，找准主要矛盾68</h5></li></ol><h5 id="5-5-2-梳理和细分团队职能69"><a href="#5-5-2-梳理和细分团队职能69" class="headerlink" title="5.5.2　梳理和细分团队职能69"></a>5.5.2　梳理和细分团队职能69</h5><h5 id="5-5-3-建立学习框架，提升知识和技能水平71"><a href="#5-5-3-建立学习框架，提升知识和技能水平71" class="headerlink" title="5.5.3　建立学习框架，提升知识和技能水平71"></a>5.5.3　建立学习框架，提升知识和技能水平71</h5><ol><li>安全管理类知识和技能</li><li>安全技术类知识和技能<ol><li>物理环境安全</li><li>网络安全<ol><li>网络设备身份认证措施</li><li>网络隔离技术</li><li>网络区域划分规则</li><li>网络边界安全</li><li>网络访问控制</li><li>网络端口控制</li><li>网络安全审计日志</li></ol></li><li>系统安全<ol><li>操作系统、数据库、中间件等系统软件的安全配置基线。</li></ol></li><li>应用安全<ol><li>访问控制和身份验证</li><li>数据保密性、完整性、可用性</li></ol></li><li>数据安全<ol><li>个人信息的范围</li><li>数据脱敏技术</li><li>核查确认个人信息全生命周期保护措施是否完善</li><li>数据备份策略是否有效、数据是否具备恢复能力</li></ol></li><li>终端安全<ol><li>域控、终端准入软件、文档安全产品、数据防泄漏等终端安全保护技术</li></ol></li><li>开发安全<ol><li>熟悉SDL等开发生命周期中需要遵循的安全技术标准</li><li>熟悉需求分析、设计、编码、测试、投产前安全扫描等各阶段的安全基线</li></ol></li><li>运维安全<ol><li>生产运维管理全流程中的风险点</li><li>堡垒机和系统日志审计</li><li>数据库日志审计</li><li>应用日志审计</li><li>各类审计工具的使用</li></ol></li><li>安全防护工具<ol><li> 防病毒</li><li> IDS/IPS</li><li> WAF</li><li> 漏扫</li><li> 熟练维护、事件处置和策略优化</li></ol></li><li>渗透测试<ol><li> 渗透测试相关技术</li><li> 常用工具软件</li><li> 各类漏洞原理</li><li> 攻防方式</li><li> 漏洞防护策略</li></ol></li><li>安全新技术<ol><li> 安全态势感知</li><li> 安全大数据分析</li><li> 威胁情报</li><li> 人工智能</li></ol></li><li>新技术安全<ol><li> 移动互联</li><li> 云计算</li><li> 大数据</li><li> 区块链</li><li> 人工智能</li><li> 新技术的风险、安全防范策略和安全防护工具<h5 id="5-5-4-掌握学习方法，实现事半功倍的效果78"><a href="#5-5-4-掌握学习方法，实现事半功倍的效果78" class="headerlink" title="5.5.4　掌握学习方法，实现事半功倍的效果78"></a>5.5.4　掌握学习方法，实现事半功倍的效果78</h5>所有的知识和技能，虽然都有变与不变的部分，但是永远不变的是“变化”。信息安全团队必须不停的刷新自己的知识和技能框架，调整学习重点，保持与新技术、新理论的同步，方可在不断变化的环境中，始终保持合规性和对风险的有效控制，以及保持对攻击的免疫能力。</li></ol></li></ol></li><li>安全管理类知识的学习方法<ol><li>把书读薄<ol><li>建立基本原则，分清楚什么样的规矩必须全文吃透，什么样的规矩掌握梗概，什么样的规矩只需掌握其中的关键条款。</li><li>区分精度和粗度。</li><li>形成“知识地图”。借用“脑图”等工具实现记录，需要时能够快速检索。</li></ol></li><li>把书读厚<br>结合本企业的实际情况，理解和分析监管要求在本企业的应用落地情况。对照“知识地图”中各项要求，逐条分析，由点及面。</li><li>把书再次读薄<br>发现本企业与监管要求之间的“缺口”后，分析归纳出主要整改方向和整改要点，把主要精力和资源放到解决这些问题上，制定整改计划，将短板补齐。</li></ol></li><li>安全技术类知识的学习方法<br>不知道不知道——&gt;知道不知道——&gt;知道知道——&gt;不知道知道<ol><li>空杯心态，不停的发现自己的短板，知道该学什么。针对工作的重点，分析在哪方面的技术存在差距，列出学习清单。</li><li><h4 id="5-6-安全团队建设路径80"><a href="#5-6-安全团队建设路径80" class="headerlink" title="5.6　安全团队建设路径80"></a>5.6　安全团队建设路径80</h4>提前设计好信息安全团队的建设路径，安排好不同阶段、不同人数团队的不同工作任务。</li></ol></li><li>先找好“唐僧”<ol><li>让团队成员认可信息安全工作的价值，相信自己的价值，感受到被别人认同的价值，激发每个员工的最大潜力和最强的主观能动性。</li><li>让信息安全工作创造价值。用“踩油门”的心态和目的，去踩刹车。类似开车时的切线变道，踩刹车的目的是为了更好的前进。</li><li>通过量化措施，让安全团队的价值表达、体现出来。设置合理的安全监测指标和安全考核指标，体现安全团队对风险的主动发现能力的持续提升，以及安全团队工作绩效的持续改善。</li></ol></li><li>补充成员</li><li>形成团队“合力”</li><li>循序渐进的成长</li><li><h4 id="5-7-安全人员职业规划84"><a href="#5-7-安全人员职业规划84" class="headerlink" title="5.7　安全人员职业规划84"></a>5.7　安全人员职业规划84</h4>分类：专职的信息安全团队成员，开发或运维团队中从事信息安全的人员。</li></ol><h4 id="5-8-安全团队与其他团队的关系处理85"><a href="#5-8-安全团队与其他团队的关系处理85" class="headerlink" title="5.8　安全团队与其他团队的关系处理85"></a>5.8　安全团队与其他团队的关系处理85</h4><ol><li>基本原则<ol><li>冲突不可避免，但目标必须一致</li><li>君子和而不同，小人同而不和</li><li>必须以促进业务发展而非阻碍业务发展为目标</li></ol></li><li>安全团队关系管理<h4 id="5-9-小结88"><a href="#5-9-小结88" class="headerlink" title="5.9　小结88"></a>5.9　小结88</h4></li></ol><h3 id="第6章-安全培训89"><a href="#第6章-安全培训89" class="headerlink" title="第6章　安全培训89"></a>第6章　安全培训89</h3><p>“技防”永远无法完全取代“人防”的作用，对于因内部人员安全意识薄弱而导致的有意或无意的信息泄密，很难完全避免，需要在严格的管理流程、严密的技术控制基础上，形成体系化的安全培训机制，提升内部人员的安全意识水平，达到综合化、一体化的防范效果。</p><h4 id="6-1-安全培训的问题与“痛点”89"><a href="#6-1-安全培训的问题与“痛点”89" class="headerlink" title="6.1　安全培训的问题与“痛点”89"></a>6.1　安全培训的问题与“痛点”89</h4><h5 id="6-1-1-信息安全意识不足的真实案例89"><a href="#6-1-1-信息安全意识不足的真实案例89" class="headerlink" title="6.1.1　信息安全意识不足的真实案例89"></a>6.1.1　信息安全意识不足的真实案例89</h5><h5 id="6-1-2-信息安全培训的必要性90"><a href="#6-1-2-信息安全培训的必要性90" class="headerlink" title="6.1.2　信息安全培训的必要性90"></a>6.1.2　信息安全培训的必要性90</h5><ol><li>涉及信息的敏感性极高</li><li>信息安全的核心问题是人的安全意识</li><li>信息安全意识普遍较为薄弱<h5 id="6-1-3-信息安全培训的“痛点”92"><a href="#6-1-3-信息安全培训的“痛点”92" class="headerlink" title="6.1.3　信息安全培训的“痛点”92"></a>6.1.3　信息安全培训的“痛点”92</h5></li><li>未建立系统和的信息安全培训体系</li><li>培训针对性不足，培训内容不接地气</li><li>培训形式单一，内容枯燥，素材匮乏，资源不足<br>促进员工利用碎片化时间主动学习。</li><li>培训参与度不高</li><li>未建立培训效果的考核机制<br>建立量化考核机制，技术手段、检查手段、考核机制来促进培训内容的落地执行。<h4 id="6-2-信息安全培训关联方93"><a href="#6-2-信息安全培训关联方93" class="headerlink" title="6.2　信息安全培训关联方93"></a>6.2　信息安全培训关联方93</h4></li></ol><h4 id="6-3-信息安全培训“百宝箱”96"><a href="#6-3-信息安全培训“百宝箱”96" class="headerlink" title="6.3　信息安全培训“百宝箱”96"></a>6.3　信息安全培训“百宝箱”96</h4><ol><li>内部专栏</li><li>外部专栏</li><li>以赛代训<ol><li>知识竞赛</li><li>信息安全创意作品大赛</li><li>微信游戏比赛</li><li>CTF大赛</li><li>信息安全实战演练</li></ol></li><li>培训时机<ol><li>全员每年例行培训</li><li>员工入职培训</li><li>高危人士时常培训</li><li>专业人士专场培训</li><li>特殊事件重点培训<h4 id="6-4-面向对象的信息安全培训矩阵105"><a href="#6-4-面向对象的信息安全培训矩阵105" class="headerlink" title="6.4　面向对象的信息安全培训矩阵105"></a>6.4　面向对象的信息安全培训矩阵105</h4></li></ol></li></ol><h4 id="6-5-培训体系实施的效果衡量107"><a href="#6-5-培训体系实施的效果衡量107" class="headerlink" title="6.5　培训体系实施的效果衡量107"></a>6.5　培训体系实施的效果衡量107</h4><p><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/%E5%9F%B9%E8%AE%AD%E6%95%88%E6%9E%9C%E6%8C%87%E6%A0%87.jpg" alt="img"></p><h4 id="6-6-小结108"><a href="#6-6-小结108" class="headerlink" title="6.6　小结108"></a>6.6　小结108</h4><h3 id="第7章-外包安全管理109"><a href="#第7章-外包安全管理109" class="headerlink" title="第7章　外包安全管理109"></a>第7章　外包安全管理109</h3><h4 id="7-1-外包安全管理的问题与“痛点”109"><a href="#7-1-外包安全管理的问题与“痛点”109" class="headerlink" title="7.1　外包安全管理的问题与“痛点”109"></a>7.1　外包安全管理的问题与“痛点”109</h4><h5 id="7-1-1-几个教训深刻的外包风险事件109"><a href="#7-1-1-几个教训深刻的外包风险事件109" class="headerlink" title="7.1.1　几个教训深刻的外包风险事件109"></a>7.1.1　几个教训深刻的外包风险事件109</h5><h5 id="7-1-2-外包安全管理的必要性110"><a href="#7-1-2-外包安全管理的必要性110" class="headerlink" title="7.1.2　外包安全管理的必要性110"></a>7.1.2　外包安全管理的必要性110</h5><h5 id="7-1-3-外包管理中的常见问题112"><a href="#7-1-3-外包管理中的常见问题112" class="headerlink" title="7.1.3　外包管理中的常见问题112"></a>7.1.3　外包管理中的常见问题112</h5><h4 id="7-2-外包战略体系113"><a href="#7-2-外包战略体系113" class="headerlink" title="7.2　外包战略体系113"></a>7.2　外包战略体系113</h4><h4 id="7-3-外包战术体系118"><a href="#7-3-外包战术体系118" class="headerlink" title="7.3　外包战术体系118"></a>7.3　外包战术体系118</h4><h5 id="7-3-1-事前预防118"><a href="#7-3-1-事前预防118" class="headerlink" title="7.3.1　事前预防118"></a>7.3.1　事前预防118</h5><h5 id="7-3-2-事中控制123"><a href="#7-3-2-事中控制123" class="headerlink" title="7.3.2　事中控制123"></a>7.3.2　事中控制123</h5><h5 id="7-3-3-事后处置132"><a href="#7-3-3-事后处置132" class="headerlink" title="7.3.3　事后处置132"></a>7.3.3　事后处置132</h5><h4 id="7-4-金融科技时代的外包安全管理133"><a href="#7-4-金融科技时代的外包安全管理133" class="headerlink" title="7.4　金融科技时代的外包安全管理133"></a>7.4　金融科技时代的外包安全管理133</h4><h4 id="7-5-小结135"><a href="#7-5-小结135" class="headerlink" title="7.5　小结135"></a>7.5　小结135</h4><h3 id="第8章-安全考核136"><a href="#第8章-安全考核136" class="headerlink" title="第8章　安全考核136"></a>第8章　安全考核136</h3><h4 id="8-1-考核评价体系与原则136"><a href="#8-1-考核评价体系与原则136" class="headerlink" title="8.1　考核评价体系与原则136"></a>8.1　考核评价体系与原则136</h4><p>重视考核评价体系与奖惩机制、人才选拔机制以及管理者在考核中的作用。</p><ol><li>考核评价体系<ol><li>“赛马胜相马”，实际工作岗位中竞争，通过考核，选出最终脱颖而出的人才；</li><li>德、能、勤、绩，普通员工和初级管理者主要考核绩和勤，中级管理者主要考核绩和能，高级管理者主要考核德和能；</li><li>KPI考核，根据组织战略，制定个团队和条线的KPI，再由团队或条线逐层分解到员工KPI。</li><li>绩效考核遵循长短利益相结合的原则：现金收入+员工个人价值提升。</li></ol></li><li>奖惩机制<ol><li>奖励与惩罚并重</li><li>物质奖惩与精神奖惩相结合</li></ol></li><li>人才选拔机制<ol><li>择优和奋斗</li></ol></li><li>管理者的权利和义务<ol><li>具有本条线人力资源管理职责，有责任记录、指导、支持、激励与评价下属员工的工作，负有帮助下属员工成长的责任，下属优秀员工的数量和质量是管理者绩效的重要指标。<h4 id="8-2-安全考核对象137"><a href="#8-2-安全考核对象137" class="headerlink" title="8.2　## 安全考核对象137"></a>8.2　## 安全考核对象137</h4></li></ol></li><li>团队考核和个人考核<h4 id="8-3-考核方案140"><a href="#8-3-考核方案140" class="headerlink" title="8.3　考核方案140"></a>8.3　考核方案140</h4><h5 id="8-3-1-考核方案设计原则140"><a href="#8-3-1-考核方案设计原则140" class="headerlink" title="8.3.1　考核方案设计原则140"></a>8.3.1　考核方案设计原则140</h5></li><li>既要设置过程指标，又要设置结果指标</li><li>既要客观性指标（定量），又要设置主观性指标（定性指标）</li><li>设置衡量自身团队工作情况指标，设置衡量其他团队工作情况的指标<h5 id="8-3-2-总部IT部门安全团队141"><a href="#8-3-2-总部IT部门安全团队141" class="headerlink" title="8.3.2　总部IT部门安全团队141"></a>8.3.2　总部IT部门安全团队141</h5></li><li>考核内容<ol><li>结果项</li><li>过程项</li><li>加减分项</li></ol></li><li>考核周期、权重、分数<h5 id="8-3-3-总部IT部门非安全团队（平行团队）142"><a href="#8-3-3-总部IT部门非安全团队（平行团队）142" class="headerlink" title="8.3.3　总部IT部门非安全团队（平行团队）142"></a>8.3.3　总部IT部门非安全团队（平行团队）142</h5><h5 id="8-3-4-个人考核143"><a href="#8-3-4-个人考核143" class="headerlink" title="8.3.4　个人考核143"></a>8.3.4　个人考核143</h5></li><li>结果第一</li><li>职责与职级匹配</li><li>建设性与事务性工作相结合，工作和学习相结合</li><li>安全性</li><li>技术创新</li><li>督办事项</li><li>常态化工作</li><li>人才成长</li><li>满意度</li><li>主观性评分：执行力、工作技能、工作态度、工作量、工作质量、学习意愿、学习能力、工作主动性<h5 id="8-3-5-一些细节144"><a href="#8-3-5-一些细节144" class="headerlink" title="8.3.5　一些细节144"></a>8.3.5　一些细节144</h5></li><li>考核注意点<ol><li>防止恶性竞争</li><li>团队规模不均带来的公平性问题</li></ol></li><li>防止秋后算账</li><li>利用5%实现100%效果</li><li>正向还是负向激励<h4 id="8-4-与考核相关的其他几个问题144"><a href="#8-4-与考核相关的其他几个问题144" class="headerlink" title="8.4　与考核相关的其他几个问题144"></a>8.4　与考核相关的其他几个问题144</h4></li><li>免费的胡萝卜：表扬、排名、通报、扣分、荣誉奖项等</li><li>要不要满意度：</li><li>内部问责：规则+检查+问责</li><li>考核属于企业考核评价体系的一部分，不可能脱离企业评价体系单独存在。没有唯一标准答案，坚持实践，最好的路径就是日拱一卒。<h4 id="8-5-安全考核示例146"><a href="#8-5-安全考核示例146" class="headerlink" title="8.5　安全考核示例146"></a>8.5　安全考核示例146</h4><h4 id="8-6-小结150"><a href="#8-6-小结150" class="headerlink" title="8.6　小结150"></a>8.6　小结150</h4></li></ol><h3 id="第9章-安全认证151"><a href="#第9章-安全认证151" class="headerlink" title="第9章　安全认证151"></a>第9章　安全认证151</h3><h4 id="9-1-为什么要获得认证151"><a href="#9-1-为什么要获得认证151" class="headerlink" title="9.1　为什么要获得认证151"></a>9.1　为什么要获得认证151</h4><h4 id="9-2-认证概述152"><a href="#9-2-认证概述152" class="headerlink" title="9.2　认证概述152"></a>9.2　认证概述152</h4><h5 id="9-2-1-认证分类152"><a href="#9-2-1-认证分类152" class="headerlink" title="9.2.1　认证分类152"></a>9.2.1　认证分类152</h5><h5 id="9-2-2-认证机构154"><a href="#9-2-2-认证机构154" class="headerlink" title="9.2.2　认证机构154"></a>9.2.2　认证机构154</h5><h4 id="9-3-选择什么样的认证157"><a href="#9-3-选择什么样的认证157" class="headerlink" title="9.3　选择什么样的认证157"></a>9.3　选择什么样的认证157</h4><h4 id="9-4-如何通过认证159"><a href="#9-4-如何通过认证159" class="headerlink" title="9.4　如何通过认证159"></a>9.4　如何通过认证159</h4><h4 id="9-5-小结162"><a href="#9-5-小结162" class="headerlink" title="9.5　小结162"></a>9.5　小结162</h4><h3 id="第10章-安全预算、总结与汇报163"><a href="#第10章-安全预算、总结与汇报163" class="headerlink" title="第10章　安全预算、总结与汇报163"></a>第10章　安全预算、总结与汇报163</h3><h4 id="10-1-安全预算163"><a href="#10-1-安全预算163" class="headerlink" title="10.1　安全预算163"></a>10.1　安全预算163</h4><ol><li>安全预算比例<ol><li>3%~10%</li></ol></li><li>预算分配<ol><li>保护和预防、检测和响应、合规和审计</li></ol></li><li>ROI和TCO<ol><li>投资回报（ROI）</li><li>总拥有成本（TCO）<h4 id="10-2-安全总结166"><a href="#10-2-安全总结166" class="headerlink" title="10.2　安全总结166"></a>10.2　安全总结166</h4></li></ol></li><li>一份安全总结应该包括：<ol><li>内外部监管任务落实情况。</li><li>全年安全事件和安全指标完成情况。</li><li>安全管理体系建设</li><li>安全研究与安全意识培训实施情况</li><li>内部管理</li><li>人才培养</li><li>团队文化建设</li><li>个人成长情况</li><li>存在的不足</li><li>新一年重点工作和计划</li></ol></li><li>安全总结报告注意事项：<ol><li> 结果指标和过程指标相结合</li><li> 阐述公司战略和业务发展规划</li><li> 主动回应公司、业务部门、IT部门领导关切</li><li> 安全团队全年业绩</li><li> 感谢、感恩让我们走得更远<br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/%E5%AE%89%E5%85%A8%E6%80%BB%E7%BB%93%E6%8A%A5%E5%91%8A.jpg" alt="img"><h4 id="10-3-安全汇报167"><a href="#10-3-安全汇报167" class="headerlink" title="10.3　安全汇报167"></a>10.3　安全汇报167</h4>“如何管理你的上级”，将上级作为你工作的资源之一，是非常有趣的管理领域话题。<br>根据汇报对象的不同，建立面向监管层、公司经营管理层、跨业务和IT的跨部门，以及IT部门和总经理、安全团队内部的汇报机制。<br>汇报内容四个目标：进展和问题报告（沟通信息、取得理解），结果和成功（讲成绩也讲问题），要资源和支持，推动工作（表扬先进督促后进）<h4 id="10-4-小结168"><a href="#10-4-小结168" class="headerlink" title="10.4　小结168"></a>10.4　小结168</h4></li></ol></li></ol><h2 id="第二部分-安全技术实战"><a href="#第二部分-安全技术实战" class="headerlink" title="第二部分　安全技术实战"></a>第二部分　安全技术实战</h2><h3 id="第11章-互联网应用安全170"><a href="#第11章-互联网应用安全170" class="headerlink" title="第11章　互联网应用安全170"></a>第11章　互联网应用安全170</h3><p>DMZ(Demilitarized zone，隔离区)</p><h4 id="11-1-端口管控170"><a href="#11-1-端口管控170" class="headerlink" title="11.1　端口管控170"></a>11.1　端口管控170</h4><p>防火墙上严格限制对外开放的端口，原则上DMZ服务器只允许对外开放80、443端口，且DMZ服务器不允许主动访问外部，访问外部的业务需要一对一开通访问。<br>“FTP本地提权”，“Redis未授权访问”，“MongoDB勒索”，“Elasticsearch勒索”</p><ol><li>Nmap<br>Nmap支持列表改入、各种主机发现、端口扫描技术、操作系统探测、扫描时间控制、各种格式输出等，还支持外部脚本针对性的检测漏洞。端口扫描技术常用的有：半开放扫描（TCP SYN）、全连接扫描（TCP Connect）、ACK扫描、FIN扫描等。</li><li>Masscan<br>快速扫描端口</li></ol><h4 id="11-2-Web应用安全172"><a href="#11-2-Web应用安全172" class="headerlink" title="11.2　Web应用安全172"></a>11.2　Web应用安全172</h4><p>SQL、NoSQL、OS、LDAP注入</p><ol><li>web应用防火墙（Web Application Firewall，WAF），工作在应用层，WAF对来自Web应用程序客户端的各类请求进行内容检测和验证，确保安全和合法。<ol><li>硬件WAF一般支持透明桥接模式、旁路模式、反向代理模式等部署方式，性能好，支持ByPass，是首选。有些防火墙的IPS模块也具备一定的WAF功能，例如CheckPoint，有些负载均衡设备本身也支持SSL卸载和应用防护，例如F5。</li><li>基于成本考虑，软件WAF，ModSecurity，规则包含基础规则集、SLR规则集、可选规则集、实验性规则集。<ol><li>基础规则集主要包括：<ol><li>HTTP协议规范相关规则</li><li>SQL注入</li><li>XSS</li><li>目录遍历</li><li>webshell</li></ol></li><li>SLR规则集则是针对特定应用（如Joomla，PHPBB、WordPress等）的漏洞利用规则</li></ol></li><li>业务上云，云WAF，结合了一些日志分析、机器学习的技术。</li></ol></li><li>入侵检测/防御系统<br>WAF更多是基于规则的，有规则就会有绕过的可能。针对这些可能绕过的WAF请求，还需要借助入侵检测系统、入侵防御系统对WAF后端的流量进行分析。</li><li>漏洞扫描和渗透测试<br>漏扫工具：AWA、IBM Appsacn、HP WebInspect、Nikto。可结合开源代码定制自己的扫描器，便于内部IPS和WAF识别或加白处理。<h4 id="11-3-系统安全173"><a href="#11-3-系统安全173" class="headerlink" title="11.3　系统安全173"></a>11.3　系统安全173</h4>未拦截的请求到了DMZ服务器，对应用或者系统有什么样的影响：<br>恶意请求的目的可能是：利用上传功能直接上传一个WebShell，利用文件包含功能直接引用一个远程的WebShell，利用文件解析漏洞上传恶意图片或视频，出发特定漏洞执行命令，或者是已经拿到WebShell直接请求执行命令。如何发现WebShell：</li><li>文件内容扫描，看是否有一些高危函数、黑客版权信息等</li><li>结合文件变化或属性判断</li><li>结合网络流量特征来判断</li><li>结合脚本底层执行动作来判断</li><li>工具：<ol><li>OSSEC<br>开源的HIDS（Host-based Intrusion Detection System，基于主机型入侵检测系统）产品，包括日志分析、文件/注册表完整性检测、安全策略监控、Rootkit检测、实时报警、动态响应等功能。</li><li>Sysmon<br>Windows系统使用，以系统服务和设备驱动程序的方式安装在系统上，保持常驻性。微软出品。在大量机器部署的情况下，结合Sysmon+Evtsys收集日志汇总到SOC，定制CASE，也是不错的方案。<h4 id="11-4-网络安全175"><a href="#11-4-网络安全175" class="headerlink" title="11.4　网络安全175"></a>11.4　网络安全175</h4>WebShell通常为了方便都提供反弹shell的功能，主动外连特定端口。DMZ需要“异常流量监测系统”<br>在DMZ内网活动的时候，流量不一定会被镜像到，这时候需要借助蜜罐来发现异常，在每个DMZ网段内部署一到两个蜜罐，可有效发现针对内网的扫描和探测行为。<br>honeyd，开源密管框架，支持模拟多个IP主机和任意的网络拓扑结构，支持服务模拟脚本来模拟后端应用，IIS、Telnet、POP3等。<br>风险：arpd组件使用类似ARP欺骗的方式牵引流量到蜜罐，在错误的运行方式下，任意存活主机在某时刻短暂掉线后，可能会被蜜罐程序的ARP包刷新网关上的MAC地址表，导致原IP无法正常访问。<h4 id="11-5-数据安全175"><a href="#11-5-数据安全175" class="headerlink" title="11.5　数据安全175"></a>11.5　数据安全175</h4>关注问题：</li></ol></li><li>到数据库的请求是否真的合法</li><li>页面上返回的输出是否包含敏感信息<br>一个SQL注入语法可能经过各种变形，加之利用服务端和WAF特性进行了绕过，但到了数据库这里，一切都是非常清晰的，数据库审计类产品可以轻松发现一些注入行为。<br>数据库审计类产品有两类：</li><li>基于Proxy或插件模式<ol><li>应用先连接proxy，再由proxy连接后端真实数据库，所有SQL请求都会被proxy记录下来；</li><li>插件，将对于的so文件复制到指定文件夹。</li><li>缺陷：对应用有一定的侵入性</li></ol></li><li>基于网络流量的产品<ol><li>将应用到DB的流量镜像给设备，有设备在还原出SQL语句。</li></ol></li><li>页面输出敏感数据<ol><li>页面输出的敏感数据要做脱敏处理。DLP方案需要调整，重点不是分析HTTP的request，而是分析服务器的Response信息。</li></ol></li></ol><h4 id="11-6-业务安全176"><a href="#11-6-业务安全176" class="headerlink" title="11.6　业务安全176"></a>11.6　业务安全176</h4><p>互联网应用中与业务逻辑相关的安全问题。</p><h4 id="11-7-互联网DMZ区安全管控标176"><a href="#11-7-互联网DMZ区安全管控标176" class="headerlink" title="11.7　互联网DMZ区安全管控标176"></a>11.7　互联网DMZ区安全管控标176</h4><p>管控标准。<br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/DMZ%E7%AE%A1%E6%8E%A7%E6%A0%87%E5%87%861.jpg" alt="img"><br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/DMZ%E7%AE%A1%E6%8E%A7%E6%A0%87%E5%87%862.jpg" alt="img"><br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/DMZ%E7%AE%A1%E6%8E%A7%E6%A0%87%E5%87%863.jpg" alt="img"></p><h4 id="11-8-小结178"><a href="#11-8-小结178" class="headerlink" title="11.8　小结178"></a>11.8　小结178</h4><h3 id="第12章-移动应用安全179"><a href="#第12章-移动应用安全179" class="headerlink" title="第12章　移动应用安全179"></a>第12章　移动应用安全179</h3><h4 id="12-1-概述179"><a href="#12-1-概述179" class="headerlink" title="12.1　概述179"></a>12.1　概述179</h4><p>2012年，央行发布了金融行业移动支付标准，涵盖应用基础、安全保障、设备、支付应用、联网通用5大类35项标准，并从产品形态、业务模式、联网通用、安全保障等方面明确了系统化的技术要求。确立了“联网通用、安全可信”为目标的技术体系架构。</p><h4 id="12-2-APP开发安全180"><a href="#12-2-APP开发安全180" class="headerlink" title="12.2　APP开发安全180"></a>12.2　APP开发安全180</h4><h5 id="12-2-1-AndroidManifest配置安全180"><a href="#12-2-1-AndroidManifest配置安全180" class="headerlink" title="12.2.1　AndroidManifest配置安全180"></a>12.2.1　AndroidManifest配置安全180</h5><p>每个Android应用的根目录中都必须包含一个AndroidManifest.xml文件。Manifest文件为Android系统提供有关应用的基本信息，系统必须获得这些信息才能运行任意应用代码。<br>Manifest文件还可执行以下操作：</p><ul><li>为应用的Java软件包命名。软件包名称充当应用的唯一标识符。</li><li>描述应用的各个组件，包括构成应用的Activity、服务、广播接收器和内容提供程序。</li><li>确定将托管应用组件的进程。</li><li>生命应用必须具备哪些权限才能访问API中受保护的部分并与其他应用交互。</li><li>声明其他应用与该应用组件交互所需具备的权限。</li><li>声明应用所需的最低Android API级别。</li><li>列出应用必须链接的库。</li></ul><p><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/manifest%E4%B8%8D%E5%BD%93%E8%AE%BE%E7%BD%AE1.jpg" alt="img"><br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/manifest%E4%B8%8D%E5%BD%93%E8%AE%BE%E7%BD%AE2.jpg" alt="img"></p><h5 id="12-2-2-Activity组件安全181"><a href="#12-2-2-Activity组件安全181" class="headerlink" title="12.2.2　Activity组件安全181"></a>12.2.2　Activity组件安全181</h5><p>Activity组件是Android四大组件中用户唯一能够看见的组件，主要是访问权限控制和被劫持问题。<br>Activity组件被劫持没有特别好的办法彻底解决，被覆盖式弹出些提示信息，进入后台的时候判断是不是用户自己触发，不是也弹出信息。</p><h5 id="12-2-3-Service组件安全181"><a href="#12-2-3-Service组件安全181" class="headerlink" title="12.2.3　Service组件安全181"></a>12.2.3　Service组件安全181</h5><p>Service组件是Android系统中的后台进程，主要的功能是在后台进行一些耗时的操作。<br>私有Service不定义intent-filter并且设置exported为false，需要被同公司不同APP访问时，科江protectionLevel设置为signature；如果是合作伙伴APP访问，需要对其APP签名做校验。若存在Service返回数据的情况，则需要关注敏感信息泄露风险。</p><h5 id="12-2-4-Provider组件安全182"><a href="#12-2-4-Provider组件安全182" class="headerlink" title="12.2.4　Provider组件安全182"></a>12.2.4　Provider组件安全182</h5><p>Content Provider组件是Android应用的重要组件之一，管理对数据的访问，主要用于不同的应用程序之间实现数据共享。数据源不止包括SQLite数据库，还可以是文件数据。<br>如果在AndroidManifest文件中将某个ContentProvider的exported属性设置为true，就会产生一些越权访问数据的风险。访问对象的不同结合APP实现不当，可能会产生数据任意访问、SQL注入、目录遍历等风险。<br><strong>在APP设计开发之前，就要清楚哪些Provider的数据是用户隐私数据或者其他重要数据，考虑是否要提供给外部应用使用。不提供就直接在Manifest文件中设置为不导出。</strong></p><h5 id="12-2-5-BroadcastReceiver组件安全183"><a href="#12-2-5-BroadcastReceiver组件安全183" class="headerlink" title="12.2.5　BroadcastReceiver组件安全183"></a>12.2.5　BroadcastReceiver组件安全183</h5><p>广播接收者，用于处理接收到的广播，接收安全与发送安全。</p><ol><li>接收安全<ul><li>动态注册广播如果仅为应用内部使用，应当将exported设置为false，这样外部应用不能随便发送广播到自身程序中。</li><li>如需接收外部应用，需配置权限。本公司其他APP，设置ProtectionLevel为signature；其他合作伙伴APP，建议避免敏感信息传递。</li></ul></li><li>发送安全<ul><li>Android有两种广播方法：sendOrderedBroadcast，sendBroadcast。<h5 id="12-2-6-WebView组件安全183"><a href="#12-2-6-WebView组件安全183" class="headerlink" title="12.2.6　WebView组件安全183"></a>12.2.6　WebView组件安全183</h5><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/webview1.jpg" alt="img"><br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/webview2.jpg" alt="img"><br>Android N增加了开发者选项，将Web-View的渲染进程运行在独立的沙箱中。<h4 id="12-3-APP业务安全186"><a href="#12-3-APP业务安全186" class="headerlink" title="12.3　APP业务安全186"></a>12.3　APP业务安全186</h4>除了一些在开发过程中的安全问题外，还有一些是业务相关。比如反编译、二次打包、钓鱼APP等各种问题，涉及混淆、加壳、签名验证、运行时环境检测等技术方案。<h5 id="12-3-1-代码安全186"><a href="#12-3-1-代码安全186" class="headerlink" title="12.3.1　代码安全186"></a>12.3.1　代码安全186</h5>ios系统封闭、严格的APP审核及签名控制<br>避免二次打包问题，解决方案：代码混淆、加壳、反调试、签名验证等</li></ul></li><li>代码混淆<ul><li>java代码混淆：ProGuard工具</li><li>资源文件混淆：微信提供的AndResGuard</li></ul></li><li>加壳<ul><li>整体dex加壳。</li><li>防调试防Dump。</li><li>方法体抽离。</li><li>VMP加壳/so加壳。程序的执行，是依靠CPU对于符合规范的指令集的解析处理。如果将原指令集通过自定义规范进行变形处理，生成新的指令集（虚拟指令集），CPU将无法识别虚拟指令。此时再配合能够解析虚拟指令集的解释器（虚拟机），就可以达到不直接通过CPU而是通过虚拟机来执行虚拟指令，这就是各种VMP保护方案的基本原理。<br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/app%E5%AE%89%E5%85%A8.jpg" alt="img"></li></ul></li></ol><p><strong>APP加固的目的是提升对手的供给成本，通过加固能让相当一部分人知难而退，就达到APP加固本身的效果了。</strong><br>3. 反调试</p><ol start="4"><li><p>签名验证</p><ul><li>Java层验证，在Java代码中实现公钥信息对比，对比样本放在本地或服务器侧，已被反编译篡改；</li><li>NDK层验证，在Native代码实现公钥信息的对比，对比的样本进行加密存储。</li><li>服务端验证，程序通过特定方法检测获取自身代码校验值，上送云端服务器进行比较。<h5 id="12-3-2-数据安全188"><a href="#12-3-2-数据安全188" class="headerlink" title="12.3.2　数据安全188"></a>12.3.2　数据安全188</h5>APP敏感信息：用户敏感信息，APP本身的敏感信息（核心算法、核心业务逻辑、私钥、本地存储的证书、加密算法等）</li></ul></li><li><p>数据存储安全</p><ul><li>Android有外部存储和内部存储之分，外部存储安全隐患比较大，只要在AndroidManifest.xml中声明写权限即可在外部存储设备上读写。</li><li>内部存储是所有软件存放私有数据的地方，openFileInput()和openFileOutput()方法读写程序的私有数据目录。第二个参数设置为MODE_PRIVATE，确保数据不被其他进程访问。</li><li>敏感数据需要保护，基本上都是加密处理。</li><li>生成随机数时，不要使用Random类，使用SecureRandom类的时候，不要调用setSeed方法，不要设置种子。</li><li>hash建议使用SHA-256，SHA-3</li><li>消息认证算法建议使用HMAC-SHA256</li><li>对称用AES算法，加密模式指定为CBC或CFB，不要使用默认的ECB</li><li>RSA密钥长度不要低于512，注意重放攻击；</li><li>白盒加密技术。对称加密，原密钥转换成矩阵，从矩阵中生成n个对称密钥，分别加密得到n份密文，再将n份密文合成一份密文。</li></ul></li><li><p>数据传输安全：建议除了HTTPS传输加密外，还需要再应用中进行加密保护，多一层保障。</p><h5 id="12-3-3-其他话题190"><a href="#12-3-3-其他话题190" class="headerlink" title="12.3.3　其他话题190"></a>12.3.3　其他话题190</h5></li><li><p>安全输入键盘，随机键盘</p></li><li><p>防截屏，黑色替换</p></li><li><p>钓鱼APP，CNCERT制定通信行业标准：</p><ul><li>禁止对恶意APP进行加固</li><li>要求对APP加固提交者进行身份验证</li><li>要求具备对加固前APP进行追查的能力</li></ul></li></ol><p><strong>通过对加固服务提供商进行规范来防止钓鱼APP，是一个不错的思路。</strong></p><h4 id="12-4-小结191"><a href="#12-4-小结191" class="headerlink" title="12.4　小结191"></a>12.4　小结191</h4><h3 id="第13章-企业内网安全192"><a href="#第13章-企业内网安全192" class="headerlink" title="第13章　企业内网安全192"></a>第13章　企业内网安全192</h3><p>企业出于不同安全防护等级的考虑，一般都会将内网划分为办公网、生产网、测试网、互联网、外联网等不同的区域，之间通过防火墙进行隔离。</p><h4 id="13-1-安全域192"><a href="#13-1-安全域192" class="headerlink" title="13.1　安全域192"></a>13.1　安全域192</h4><p>网络安全域是指同一系统内有相同的安全保护需求，相互信任，并具有相同的安全访问控制和边界控制策略的子网或网络，相同的网络安全域共享一样的安全策略。</p><ol><li>安全域目标：<ul><li>整体网络结构清晰</li><li>具有相同安全防护要求的网络和系统处于同一安全子域中</li><li>不同安全子域内可方便地部署不同等级的安全防护策略</li><li>统一规划网络层接口，有利于网络的有序拓展</li><li>数据流简介规范，有利于区分不同种类数据流</li></ul></li><li>遵循原则：<ul><li>业务保障原则</li><li>结构简化原则</li><li>等级保护原则</li><li>立体协防原则</li><li>生命周期原则</li><li>资源整合原则<br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5.jpg" alt="img"><h4 id="13-2-终端安全193"><a href="#13-2-终端安全193" class="headerlink" title="13.2　终端安全193"></a>13.2　终端安全193</h4>终端安全涉及资产管理、补丁管理、终端准入、防病毒、外设管控、上网行为管理等诸多内容。<h4 id="13-3-网络安全195"><a href="#13-3-网络安全195" class="headerlink" title="13.3　网络安全195"></a>13.3　网络安全195</h4>网络安全涉及面非常广，有一些基础的安全加固配置，比如交换机上启用port-security、BPDU-Guard等防护机制，对未使用的接口默认全shutdown，使用AAA认证技术，防火墙上开启默认any any drop策略等，也有一些专门的技术或解决方案，如NGFW、NIDS等。<br>企业在划分安全域后，不同域之间需要通过VLAN、ACL、防火墙等技术进行隔离。<h5 id="13-3-1-网络入侵检测系统196"><a href="#13-3-1-网络入侵检测系统196" class="headerlink" title="13.3.1　网络入侵检测系统196"></a>13.3.1　网络入侵检测系统196</h5></li></ul></li></ol><h5 id="13-3-2-异常访问检测系统196"><a href="#13-3-2-异常访问检测系统196" class="headerlink" title="13.3.2　异常访问检测系统196"></a>13.3.2　异常访问检测系统196</h5><h5 id="13-3-3-隐蔽信道检测系统197"><a href="#13-3-3-隐蔽信道检测系统197" class="headerlink" title="13.3.3　隐蔽信道检测系统197"></a>13.3.3　隐蔽信道检测系统197</h5><ol><li>IDS和IPS上检测异常的ICMP、DNS协议包；</li><li>监控数据包的发送频率；</li><li>异常包大小检测；</li><li>防火墙上只允许DNS请求到外网制定的DNS服务器。<h4 id="13-4-服务器安全200"><a href="#13-4-服务器安全200" class="headerlink" title="13.4　服务器安全200"></a>13.4　服务器安全200</h4></li><li>基础安全配置：<ol><li>Windows服务器安全加固：<ol><li>磁盘分区选用NTFS，文件权限控制需要；</li><li>禁用“TCP/IP上的 NetBIOS”</li><li>服务器加入域，统一管理安全策略</li><li>安全策略需要包括账户策略、本地策略等内容</li><li>事件日志，需要调整最大日志文件大小</li><li>禁用不必要的服务</li><li>开启高级审核策略</li><li>关闭自动播放，启用密码保护屏幕</li></ol></li><li>Linux服务器安全加固：<ol><li>物理安全相关设置，禁用USB存储设备，添加GRUB密码，禁止Ctrl+Alt+Del直接重启服务器</li><li>文件系统挂在设备，对/tmp和/var分区增加nodev和nosuid选项，对/home分区增加nosuid选项</li><li>对一些系统文件设置权限，包括/etc/crontab、/etc/securetty /boot/grub/grub.conf  /etc/inittab /etc/login.defs等</li><li>关闭一些不必要的服务，包括cups、postfix、pcscd、smartd、alsasound、iscsitarget、smb、acpid等</li><li>开启命令记录时间戳，将一些与命令记录相关的参数设置为readonly</li><li>开启日志及audit审计功能，配置监控规则，同时设置syslog转发将日志送到SOC</li><li>口令策略设置，包括口令复杂度、有效期，同时设置超时自动退出、密码尝试次数过多锁定</li><li>对SSHD进行安全配置，删除RHOST相关文件</li><li>调整一些内核参数，禁用LKM，限制/dev/mem，开启ALSR，禁用NAT功能。</li></ol></li></ol></li><li>入侵防护检测<ol><li>服务器安装类似HIDS的产品，开源的有OSSEC，通过xml规则，对特定场景进行检测。</li><li>机器收集多种事件，统一发送到SOC平台，在平台上制定相应的CASE并产生告警。<h4 id="13-5-重点应用安全203"><a href="#13-5-重点应用安全203" class="headerlink" title="13.5　重点应用安全203"></a>13.5　重点应用安全203</h4></li></ol></li><li>活动目录服务器</li><li>邮件系统</li><li>VPN<ol><li>隧道技术，隧道是由隧道协议形成的，分为第二、第三层隧道协议。第二层隧道协议是先把各种网络协议封装到PPP中，再把整个数据包装入隧道协议中。第二层隧道协议有L2F、PPTP、L2TP等。第三层隧道协议有VTP、IPSec等。</li><li>加解密技术</li><li>密钥管理技术，分为SKIP与ISAKMP/OAKLEY两种。</li><li>身份认证技术</li></ol></li><li>堡垒机</li><li>运用各种技术手段实时手机和监控网络环境中每一个组成部分的系统状态、安全事件、网络活动、以便集中报警、记录、分析、处理的一种技术手段。核心功能：核心系统运维和安全审计管控，通过切断终端计算机对网络和服务器资源的直接访问，而采用协议代理的方式，接管了终端计算机对网络和服务器的访问。<h4 id="13-6-漏洞战争206"><a href="#13-6-漏洞战争206" class="headerlink" title="13.6　漏洞战争206"></a>13.6　漏洞战争206</h4><h5 id="13-6-1-弱口令206"><a href="#13-6-1-弱口令206" class="headerlink" title="13.6.1　弱口令206"></a>13.6.1　弱口令206</h5></li><li>主要场景：<ol><li>网络设备或终端、服务器的登录用户和密码，如Telnet、RDP、SSH、VNC、Radmin的用户密码</li><li>各种Web应用的内置密码，如网管系统、iLO、HMC、Tomcat管理后台等</li><li>各种服务可能配置成弱口令，如FTP、MySQL、SQLServer等</li></ol></li><li>扫描：<ol><li>Medusa、Hydra、Ncrack</li><li>web暴力破解领域：Burp Suite</li></ol></li><li>消除弱口令：<ol><li>常态化的扫描、跟进修复</li><li>针对网络设备，建议使用类似ACS+Token的解决方案，静态用户保留最高权限和只读账号，而高权限静态用户登录则需要告警，平时不允许使用，只有应急情况才可以使用</li><li>针对Windows机器，在域里统一设置安全策略，强制要求密码复杂度及过期时间。</li><li>生产网统一要求都接入堡垒机</li><li>针对Web应用系统，建议统一接入SSO系统，SSO系统采用双因子认证来实现</li><li>对于一些比较危险的服务，如FTP、MySQL、Redis、Radmin、VNC、SVN、Git、Rsync，能不开就不开，必须要开尽量做访问来源限制。</li><li>对于企业内网大量的应用管理后台，建议在上线前做好管控，梳理常见的问题并作出明确要求，如Tomcat、phpMyAdmin、JBoss等管理后台界面。<h5 id="13-6-2-漏洞发现208"><a href="#13-6-2-漏洞发现208" class="headerlink" title="13.6.2　漏洞发现208"></a>13.6.2　漏洞发现208</h5></li></ol></li><li>根据发现方式的不同，漏洞分为三类：基于主机层面的漏洞（系统漏洞）、基于应用层面的常规漏洞（比如Web漏洞）、基于应用程序内部逻辑的漏洞。<ol><li>系统漏洞包括操作系统本身的安全漏洞，以及运行在操作系统上面的应用程序（如IIS、Apache、Nginx、Tomcat、MySQL）的安全漏洞。<strong>要发现此类漏洞，可采用注入Nessus、OpenVAS之类的扫描器</strong>、Nessus的Discovery包括了主机发现、端口扫描、服务发现相关设置，Assessment选项包括了常规设置、暴力破解、Web应用、Windows、Malware相关配置，还可以提供登录相关的凭证便于做侵入式登录扫描。<strong>如果内网机器众多，需要部署多台Nessus服务器，采用集群模式进行扫描。</strong></li><li>应用层面常规漏洞包括SQL注入、XSS攻击、文件上传、文件下载、信息泄露、框架注入、XXE注入、CSRF、SSRF、命令执行、弱口令等。一般企业会选择AWS、IBM Appscan、HP WebInspect、Nikto等商业软件开展漏扫工作。</li><li>应用逻辑漏洞，更多需要人工介入，结合使用BurpSuite、Fiddler等辅助类工具对应用系统各种内部逻辑进行测试。<strong>逻辑漏洞很容易在身份认证、业务流程、API接口调用等过程中产生</strong>。身份认证模块就涉及口令破解、验证码、撞库、密码找回、认证时效等问题；业务流程中依据不同的业务场景会有不同的功能，比如订单篡改、一致性校验、重放攻击、输入合法性等；API接口调用简化了系统架构，但也容易存在不认证、不限制访问等问题。</li></ol></li></ol><p><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F.jpg" alt="img"><br>3. 漏洞修复</p><ol><li>暴露在互联网的漏洞，必须第一时间发现和修复</li><li>高风险特别是可以直接拿到权限的漏洞，优先进行修复</li><li>内部往来重要系统的漏洞，优先</li><li>其他内部不重要的系统漏洞，按常规方法跟进处置，超过多少天的该升级到什么级别，按规章处理。<h5 id="13-6-3-SDL210"><a href="#13-6-3-SDL210" class="headerlink" title="13.6.3　SDL210"></a>13.6.3　SDL210</h5>安全开发生命周期（Security Development Lifecycle，SDL）。微软提出的，2004年起一直在微软强制实施，步骤包括：培训、需求、设计、实施、验证、发布、响应起个环节。</li><li>需求分析与设计阶段<br>SDL安全设计Ckecklist。</li><li>开发阶段<br>应用安全开发标准文档   </li><li>测试阶段<br>白盒、黑盒、单元测试、集成测试、功能测试、性能测试。引入安全性测试。<br>微软STRIDE，6个维度考察系统设计时存在的来自外部威胁的风险点。<ol><li>Spoofing（假冒）</li><li>Tampering（篡改）</li><li>Repudiation（否认）</li><li>Information Disclosure（信息泄露）</li><li>Denial of Service（拒绝服务）</li><li>Elevation of Privilege（提升权限）<br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/STRIDE%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1.jpg" alt="img"><br>威胁建模的最后阶段，还要根据威胁所造成的危害对威胁进行评价，这样企业就可以排出优先级，先解决风险最大的威胁再解决其他的威胁。微软使用DREAD模型来协助这个计算过程。</li><li>潜在损失（Damage Potential），缺陷被利用，损失有多大</li><li>重现性（Reproducibility），重复产生攻击的难度有多大</li><li>可利用性（Exploitability），发起攻击的难度有多大</li><li>受影响的用户（Affected Users），粗略的百分数表示</li><li>可发现性（Discoverability），缺陷容易发现吗<br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/%E5%AE%89%E5%85%A8%E5%A8%81%E8%83%81%E8%AF%84%E5%88%86.jpg" alt="img"></li></ol></li><li>上线阶段<br>发现有问题的应用不允许上线。</li><li>运营阶段<br>常态化工作，扫描、渗透、日常的安全监控。<br>区分哪些应用向互联网开放，哪些内部员工访问，哪些包含大量客户资料或交易信息，哪些没有，所有阶段区别对待。<h4 id="13-7-蜜罐体系建设213"><a href="#13-7-蜜罐体系建设213" class="headerlink" title="13.7　蜜罐体系建设213"></a>13.7　蜜罐体系建设213</h4>蜜罐技术本质上是一种对攻击方进行欺骗的技术，通过布置一些作为诱饵的主机、网络服务或信息，诱使攻击方对它们实施攻击，从而可以对攻击行为进行捕获和分析，了解攻击方所使用的工具与方法，推测攻击意图和动机。</li><li>蜜域名<br>内网或互联网DNS上发布一个无法轻易猜到的域名，一般不会被访问到，域名暴力枚举发现，一旦有请求，表明有一定的可疑性。</li><li>蜜网站 </li><li>蜜端口</li><li>蜜服务<br>前端需要探针服务器配合，企业按需部署，探针上的agent将流量按需引导到后端蜜罐上。</li><li>蜜库蜜表</li><li>蜜文件</li><li>全民皆兵<br>将侵略者埋葬在全民皆兵的汪洋大海里。<h4 id="13-8-小结220"><a href="#13-8-小结220" class="headerlink" title="13.8　小结220"></a>13.8　小结220</h4></li></ol><h3 id="第14章-数据安全221"><a href="#第14章-数据安全221" class="headerlink" title="第14章　数据安全221"></a>第14章　数据安全221</h3><p>数据安全覆盖面非常广，包括市面上数据备份、电子文档安全、数据泄露防护、数据库安全等，随着新技术的发展，大数据安全、UEBA、CASB等解决方案也会更多被企业关注。</p><h4 id="14-1-数据安全治理221"><a href="#14-1-数据安全治理221" class="headerlink" title="14.1　数据安全治理221"></a>14.1　数据安全治理221</h4><p>数据安全治理最为重要的是进行数据安全策略和流程制订。《xx数据安全管理规范》。一般会包括组织架构及职责分工、数据分类与分级管理、数据生命周期（采集、使用、传播、存储、归档、销毁）安全要求、数据安全风险事件管理、数据安全管理考核与监督、数据安全管理培训等内容。<br>数据治理主要依据数据的来源、内容和用途进行分类；以数据的价值、内容敏感程度、影响和分发范围进行敏感级别划分。</p><h4 id="14-2-终端数据安全222"><a href="#14-2-终端数据安全222" class="headerlink" title="14.2　终端数据安全222"></a>14.2　终端数据安全222</h4><p>数据安全建设工作都会围绕终端进行，解决方案有：加密、权限控制、终端DLP桌面、虚拟化、安全桌面等几大类别，中间还会涉及一些外设管控、水印等。<br><strong>数据泄密（泄露）防护（Data leakage prevention, DLP）</strong></p><h5 id="14-2-1-加密类222"><a href="#14-2-1-加密类222" class="headerlink" title="14.2.1　加密类222"></a>14.2.1　加密类222</h5><ol><li>磁盘加密<ol><li>磁盘分区加密技术<br>采用加密技术对磁盘上某一个扇区（或分区）进行加解密。</li><li>全磁盘加密技术</li></ol></li><li>文件加密<h5 id="14-2-2-权限控制类225"><a href="#14-2-2-权限控制类225" class="headerlink" title="14.2.2　权限控制类225"></a>14.2.2　权限控制类225</h5>企业用户往往需要做更细粒度的控制，包括阅读、复制、编辑、打印等，统称为权限控制类方案。<h5 id="14-2-3-终端DLP类228"><a href="#14-2-3-终端DLP类228" class="headerlink" title="14.2.3　终端DLP类228"></a>14.2.3　终端DLP类228</h5>终端DLP功能包括：敏感文件识别、外发文件阻断、外设端口管控、日志审计分析等。<h5 id="14-2-4-桌面虚拟化228"><a href="#14-2-4-桌面虚拟化228" class="headerlink" title="14.2.4　桌面虚拟化228"></a>14.2.4　桌面虚拟化228</h5>数据一旦落到终端，很多方案都会存在失效的可能。将数据统一集中管理、不落到终端上。<h5 id="14-2-5-安全桌面230"><a href="#14-2-5-安全桌面230" class="headerlink" title="14.2.5　安全桌面230"></a>14.2.5　安全桌面230</h5>基于沙箱的安全桌面可以在操作系统使用时虚拟出多个专用桌面，这些专用桌面上的操作与宿主桌面公用操作系统和应用程序，但不会共用数据。</li></ol><h4 id="14-3-网络数据安全230"><a href="#14-3-网络数据安全230" class="headerlink" title="14.3　网络数据安全230"></a>14.3　网络数据安全230</h4><p>网络DLP类，上网代理类，邮件代理类。</p><ol><li>网络DLP类，Symantec DLP<ol><li>管理员对策略、服务器、角色、用户进行统一管理</li><li>通过在交换机上做Span或者使用TAP交换网络，将流量送到Monitor服务器</li><li>DLP Monitor从服务端拉取策略，对签名镜像的流量按照其标准或自定义过滤情况进行分析，发现匹配即上报。</li><li>网络DLP的未来趋势是与云访问安全代理（CASB）功能集成，将敏感数据的发现范围进一步扩大到云应用程序。</li></ol></li><li>上网代理类</li><li>邮件代理类<h4 id="14-4-存储数据安全234"><a href="#14-4-存储数据安全234" class="headerlink" title="14.4　存储数据安全234"></a>14.4　存储数据安全234</h4></li><li>存储数据加密：加密存储安全交换机</li><li>敏感文件的扫描</li><li>数据的销毁<h4 id="14-5-应用数据安全235"><a href="#14-5-应用数据安全235" class="headerlink" title="14.5　应用数据安全235"></a>14.5　应用数据安全235</h4></li><li>数据库安全<ol><li>使用数据库代理保护数据库免受攻击</li><li>对数据库进行封装，提供统一的运维平台给DBA或开发人员使用</li><li>数据库审计</li><li>数据库所在服务器及数据库软件本身的安全性加固。</li></ol></li><li>数据交换平台</li><li>大数据安全<h4 id="14-6-其他话题237"><a href="#14-6-其他话题237" class="headerlink" title="14.6　其他话题237"></a>14.6　其他话题237</h4><h5 id="14-6-1-数据脱敏237"><a href="#14-6-1-数据脱敏237" class="headerlink" title="14.6.1　数据脱敏237"></a>14.6.1　数据脱敏237</h5><h5 id="14-6-2-水印与溯源237"><a href="#14-6-2-水印与溯源237" class="headerlink" title="14.6.2　水印与溯源237"></a>14.6.2　水印与溯源237</h5></li><li>明文水印</li><li>隐藏水印<h5 id="14-6-3-UEBA240"><a href="#14-6-3-UEBA240" class="headerlink" title="14.6.3　UEBA240"></a>14.6.3　UEBA240</h5>UEBA（用户实体行为分析）<h5 id="14-6-4-CASB241"><a href="#14-6-4-CASB241" class="headerlink" title="14.6.4　CASB241"></a>14.6.4　CASB241</h5></li><li>proxy模式</li><li>API模式<h4 id="14-7-小结241"><a href="#14-7-小结241" class="headerlink" title="14.7　小结241"></a>14.7　小结241</h4></li></ol><h3 id="第15章-业务安全242"><a href="#第15章-业务安全242" class="headerlink" title="第15章　业务安全242"></a>第15章　业务安全242</h3><h4 id="15-1-账号安全242"><a href="#15-1-账号安全242" class="headerlink" title="15.1　账号安全242"></a>15.1　账号安全242</h4><h5 id="15-1-1-撞库242"><a href="#15-1-1-撞库242" class="headerlink" title="15.1.1　撞库242"></a>15.1.1　撞库242</h5><ol><li>垂直撞库<br>暴力破解，“多次错误锁定”即可</li><li>水平撞库<br>同一个密码对多个账号进行尝试，对同一个账号的错误次数没有触发锁定条件，水平撞库往往更难从业务系统上直接发现。<br>防撞库思路：用户侧做人机识别，验证码、人脸等，利用页面混淆技术实现保护，在后端做请求分析与拦截。</li><li>验证码<ol><li><p>图形验证码</p></li><li><p>短信验证码</p></li></ol></li><li>页面混淆</li><li>后端分析与拦截<br>专门的WAF设备，Nginx过滤模块，传统防火墙等。<br>一般的WAF都有对基于请求频率进行限制的功能，将需要保护的页面、时间、请求次数相关参数进行设置即可。<h5 id="15-1-2-账户盗用247"><a href="#15-1-2-账户盗用247" class="headerlink" title="15.1.2　账户盗用247"></a>15.1.2　账户盗用247</h5></li></ol><h4 id="15-2-爬虫与反爬虫247"><a href="#15-2-爬虫与反爬虫247" class="headerlink" title="15.2　爬虫与反爬虫247"></a>15.2　爬虫与反爬虫247</h4><h5 id="15-2-1-爬虫247"><a href="#15-2-1-爬虫247" class="headerlink" title="15.2.1　爬虫247"></a>15.2.1　爬虫247</h5><h5 id="15-2-2-反爬虫249"><a href="#15-2-2-反爬虫249" class="headerlink" title="15.2.2　反爬虫249"></a>15.2.2　反爬虫249</h5><p>前端：</p><ol><li>关键数据可考虑文本转图片，甚至添加水印</li><li>网站请求的URL复杂化，尽量不暴露数据的唯一键（如ID等），避免爬虫通过修改ID轻松爬取其他信息</li><li>前端HTML页面根据用户点击情况动态加载，查询页面源码时，只能看到列表的第一条数据</li><li>结合账号登录情况，对页面进行保护，如Token等</li><li>结合蜜罐思路，确认异常时可返回虚假数据。<h4 id="15-3-API网关防护252"><a href="#15-3-API网关防护252" class="headerlink" title="15.3　API网关防护252"></a>15.3　API网关防护252</h4>Key认证、ACL控制、Bot检测、CC限速等。<h4 id="15-4-钓鱼与反制252"><a href="#15-4-钓鱼与反制252" class="headerlink" title="15.4　钓鱼与反制252"></a>15.4　钓鱼与反制252</h4></li></ol><h5 id="15-4-1-钓鱼发现252"><a href="#15-4-1-钓鱼发现252" class="headerlink" title="15.4.1　钓鱼发现252"></a>15.4.1　钓鱼发现252</h5><h5 id="15-4-2-钓鱼处置254"><a href="#15-4-2-钓鱼处置254" class="headerlink" title="15.4.2　钓鱼处置254"></a>15.4.2　钓鱼处置254</h5><h4 id="15-5-大数据风控255"><a href="#15-5-大数据风控255" class="headerlink" title="15.5　大数据风控255"></a>15.5　大数据风控255</h4><h5 id="15-5-1-基础知识255"><a href="#15-5-1-基础知识255" class="headerlink" title="15.5.1　基础知识255"></a>15.5.1　基础知识255</h5><h5 id="15-5-2-风控介绍256"><a href="#15-5-2-风控介绍256" class="headerlink" title="15.5.2　风控介绍256"></a>15.5.2　风控介绍256</h5><h5 id="15-5-3-企业落地259"><a href="#15-5-3-企业落地259" class="headerlink" title="15.5.3　企业落地259"></a>15.5.3　企业落地259</h5><h4 id="15-6-小结259"><a href="#15-6-小结259" class="headerlink" title="15.6　小结259"></a>15.6　小结259</h4><h3 id="第16章-邮件安全261"><a href="#第16章-邮件安全261" class="headerlink" title="第16章　邮件安全261"></a>第16章　邮件安全261</h3><h4 id="16-1-背景261"><a href="#16-1-背景261" class="headerlink" title="16.1　背景261"></a>16.1　背景261</h4><h4 id="16-2-入站安全防护262"><a href="#16-2-入站安全防护262" class="headerlink" title="16.2　入站安全防护262"></a>16.2　入站安全防护262</h4><h5 id="16-2-1-邮箱账号暴力破解262"><a href="#16-2-1-邮箱账号暴力破解262" class="headerlink" title="16.2.1　邮箱账号暴力破解262"></a>16.2.1　邮箱账号暴力破解262</h5><h5 id="16-2-2-邮箱账号密码泄露264"><a href="#16-2-2-邮箱账号密码泄露264" class="headerlink" title="16.2.2　邮箱账号密码泄露264"></a>16.2.2　邮箱账号密码泄露264</h5><h5 id="16-2-3-垃圾邮件264"><a href="#16-2-3-垃圾邮件264" class="headerlink" title="16.2.3　垃圾邮件264"></a>16.2.3　垃圾邮件264</h5><h5 id="16-2-4-邮件钓鱼269"><a href="#16-2-4-邮件钓鱼269" class="headerlink" title="16.2.4　邮件钓鱼269"></a>16.2.4　邮件钓鱼269</h5><h5 id="16-2-5-恶意附件攻击269"><a href="#16-2-5-恶意附件攻击269" class="headerlink" title="16.2.5　恶意附件攻击269"></a>16.2.5　恶意附件攻击269</h5><h5 id="16-2-6-入站防护体系小结276"><a href="#16-2-6-入站防护体系小结276" class="headerlink" title="16.2.6　入站防护体系小结276"></a>16.2.6　入站防护体系小结276</h5><h4 id="16-3-出站安全防护278"><a href="#16-3-出站安全防护278" class="headerlink" title="16.3　出站安全防护278"></a>16.3　出站安全防护278</h4><h4 id="16-4-整体安全防护体系281"><a href="#16-4-整体安全防护体系281" class="headerlink" title="16.4　整体安全防护体系281"></a>16.4　整体安全防护体系281</h4><h4 id="16-5-小结283"><a href="#16-5-小结283" class="headerlink" title="16.5　小结283"></a>16.5　小结283</h4><h3 id="第17章-活动目录安全284"><a href="#第17章-活动目录安全284" class="headerlink" title="第17章　活动目录安全284"></a>第17章　活动目录安全284</h3><h4 id="17-1-背景284"><a href="#17-1-背景284" class="headerlink" title="17.1　背景284"></a>17.1　背景284</h4><h4 id="17-2-常见攻击方式285"><a href="#17-2-常见攻击方式285" class="headerlink" title="17.2　常见攻击方式285"></a>17.2　常见攻击方式285</h4><h5 id="17-2-1-SYSVOL与GPP漏洞285"><a href="#17-2-1-SYSVOL与GPP漏洞285" class="headerlink" title="17.2.1　SYSVOL与GPP漏洞285"></a>17.2.1　SYSVOL与GPP漏洞285</h5><h5 id="17-2-2-MS14-068漏洞287"><a href="#17-2-2-MS14-068漏洞287" class="headerlink" title="17.2.2　MS14-068漏洞287"></a>17.2.2　MS14-068漏洞287</h5><h5 id="17-2-3-Kerberoast攻击289"><a href="#17-2-3-Kerberoast攻击289" class="headerlink" title="17.2.3　Kerberoast攻击289"></a>17.2.3　Kerberoast攻击289</h5><h5 id="17-2-4-内网横移抓取管理员凭证290"><a href="#17-2-4-内网横移抓取管理员凭证290" class="headerlink" title="17.2.4　内网横移抓取管理员凭证290"></a>17.2.4　内网横移抓取管理员凭证290</h5><h5 id="17-2-5-内网钓鱼与欺骗292"><a href="#17-2-5-内网钓鱼与欺骗292" class="headerlink" title="17.2.5　内网钓鱼与欺骗292"></a>17.2.5　内网钓鱼与欺骗292</h5><h5 id="17-2-6-用户密码猜解293"><a href="#17-2-6-用户密码猜解293" class="headerlink" title="17.2.6　用户密码猜解293"></a>17.2.6　用户密码猜解293</h5><h5 id="17-2-7-获取AD数据库文件294"><a href="#17-2-7-获取AD数据库文件294" class="headerlink" title="17.2.7　获取AD数据库文件294"></a>17.2.7　获取AD数据库文件294</h5><h4 id="17-3-维持权限的各种方式295"><a href="#17-3-维持权限的各种方式295" class="headerlink" title="17.3　维持权限的各种方式295"></a>17.3　维持权限的各种方式295</h4><h5 id="17-3-1-krbtgt账号与黄金票据295"><a href="#17-3-1-krbtgt账号与黄金票据295" class="headerlink" title="17.3.1　krbtgt账号与黄金票据295"></a>17.3.1　krbtgt账号与黄金票据295</h5><h5 id="17-3-2-服务账号与白银票据296"><a href="#17-3-2-服务账号与白银票据296" class="headerlink" title="17.3.2　服务账号与白银票据296"></a>17.3.2　服务账号与白银票据296</h5><h5 id="17-3-3-利用DSRM账号297"><a href="#17-3-3-利用DSRM账号297" class="headerlink" title="17.3.3　利用DSRM账号297"></a>17.3.3　利用DSRM账号297</h5><h5 id="17-3-4-利用SID-History属性298"><a href="#17-3-4-利用SID-History属性298" class="headerlink" title="17.3.4　利用SID## History属性298"></a>17.3.4　利用SID## History属性298</h5><h5 id="17-3-5-利用组策略299"><a href="#17-3-5-利用组策略299" class="headerlink" title="17.3.5　利用组策略299"></a>17.3.5　利用组策略299</h5><h5 id="17-3-6-利用AdminSDHolder300"><a href="#17-3-6-利用AdminSDHolder300" class="headerlink" title="17.3.6　利用AdminSDHolder300"></a>17.3.6　利用AdminSDHolder300</h5><h5 id="17-3-7-利用SSP301"><a href="#17-3-7-利用SSP301" class="headerlink" title="17.3.7　利用SSP301"></a>17.3.7　利用SSP301</h5><h5 id="17-3-8-利用Skeleton-Key303"><a href="#17-3-8-利用Skeleton-Key303" class="headerlink" title="17.3.8　利用Skeleton## Key303"></a>17.3.8　利用Skeleton## Key303</h5><h5 id="17-3-9-利用PasswordChangeNofity304"><a href="#17-3-9-利用PasswordChangeNofity304" class="headerlink" title="17.3.9　利用PasswordChangeNofity304"></a>17.3.9　利用PasswordChangeNofity304</h5><h4 id="17-4-安全解决方案304"><a href="#17-4-安全解决方案304" class="headerlink" title="17.4　安全解决方案304"></a>17.4　安全解决方案304</h4><h5 id="17-4-1-活动目录整体架构及相关规范305"><a href="#17-4-1-活动目录整体架构及相关规范305" class="headerlink" title="17.4.1　活动目录整体架构及相关规范305"></a>17.4.1　活动目录整体架构及相关规范305</h5><h5 id="17-4-2-技术体系运营309"><a href="#17-4-2-技术体系运营309" class="headerlink" title="17.4.2　技术体系运营309"></a>17.4.2　技术体系运营309</h5><h5 id="17-4-3-外围平台安全310"><a href="#17-4-3-外围平台安全310" class="headerlink" title="17.4.3　外围平台安全310"></a>17.4.3　外围平台安全310</h5><h5 id="17-4-4-被渗透后的注意事项311"><a href="#17-4-4-被渗透后的注意事项311" class="headerlink" title="17.4.4　被渗透后的注意事项311"></a>17.4.4　被渗透后的注意事项311</h5><h4 id="17-5-小结311"><a href="#17-5-小结311" class="headerlink" title="17.5　小结311"></a>17.5　小结311</h4><h3 id="第18章-安全热点解决方案312"><a href="#第18章-安全热点解决方案312" class="headerlink" title="第18章　安全热点解决方案312"></a>第18章　安全热点解决方案312</h3><h4 id="18-1-DDoS攻击与对策312"><a href="#18-1-DDoS攻击与对策312" class="headerlink" title="18.1　DDoS攻击与对策312"></a>18.1　DDoS攻击与对策312</h4><p>DDos（Distributed Denial of Service）<br>DDos攻击技术：<br>流量直接攻击（SYN/ACK/ICMP/UDP FLOOD）<br>特定应用或协议进行反射型流量攻击（NTP/DNS/SSDP反射攻击）<br>基于应用的CC、慢速HTTP等。</p><h5 id="18-1-1-DDoS防御常规套路312"><a href="#18-1-1-DDoS防御常规套路312" class="headerlink" title="18.1.1　DDoS防御常规套路312"></a>18.1.1　DDoS防御常规套路312</h5><ol><li>本地设备清洗<br>抗DDos设备（ADS）<br><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/ADS.jpg" alt="img"><br>检测设备对镜像过来的流量进行分析，检测到DDos攻击后通知清洗设备，清洗设备通过BGP或OSPF协议将发往被攻击目标主机的流量牵引到清洗设备，然后将清洗干净的流量通过策略路由或MPLS LSP等方式回注到网络中。<br><strong>最大的问题是DDos流量超出企业出口带宽</strong></li><li>运营商清洗<br>流量超过出口带宽，借助运营商的能力。</li><li>云清洗<br>内容分发网络（Content Delivery Network，CDN），在网络各处放置节点服务器，让用户能够在离自己最近的地方访问服务，以此来提高访问速度和服务质量。<br>CDN四大关键技术：内容路由、内容分发、内存存储、内容管理。<h5 id="18-1-2-一些经验314"><a href="#18-1-2-一些经验314" class="headerlink" title="18.1.2　一些经验314"></a>18.1.2　一些经验314</h5></li></ol><h4 id="18-2-勒索软件应对316"><a href="#18-2-勒索软件应对316" class="headerlink" title="18.2　勒索软件应对316"></a>18.2　勒索软件应对316</h4><h4 id="18-3-补丁管理317"><a href="#18-3-补丁管理317" class="headerlink" title="18.3　补丁管理317"></a>18.3　补丁管理317</h4><h5 id="18-3-1-Windows318"><a href="#18-3-1-Windows318" class="headerlink" title="18.3.1　Windows318"></a>18.3.1　Windows318</h5><h5 id="18-3-2-Linux319"><a href="#18-3-2-Linux319" class="headerlink" title="18.3.2　Linux319"></a>18.3.2　Linux319</h5><h4 id="18-4-堡垒机管理319"><a href="#18-4-堡垒机管理319" class="headerlink" title="18.4　堡垒机管理319"></a>18.4　堡垒机管理319</h4><h4 id="18-5-加密机管理321"><a href="#18-5-加密机管理321" class="headerlink" title="18.5　加密机管理321"></a>18.5　加密机管理321</h4><p><img src="/img/%E4%BC%81%E4%B8%9A%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/%E9%87%91%E8%9E%8D%E5%8A%A0%E5%AF%86%E6%9C%BA.jpg" alt="img"></p><h5 id="18-5-1-选型322"><a href="#18-5-1-选型322" class="headerlink" title="18.5.1　选型322"></a>18.5.1　选型322</h5><h5 id="18-5-2-高可用架构与监控322"><a href="#18-5-2-高可用架构与监控322" class="headerlink" title="18.5.2　高可用架构与监控322"></a>18.5.2　高可用架构与监控322</h5><h5 id="18-5-3-应用梳理324"><a href="#18-5-3-应用梳理324" class="headerlink" title="18.5.3　应用梳理324"></a>18.5.3　应用梳理324</h5><h5 id="18-5-4-上下线与应急324"><a href="#18-5-4-上下线与应急324" class="headerlink" title="18.5.4　上下线与应急324"></a>18.5.4　上下线与应急324</h5><h4 id="18-6-情报利用324"><a href="#18-6-情报利用324" class="headerlink" title="18.6　情报利用324"></a>18.6　情报利用324</h4><h4 id="18-7-网络攻防大赛与CTF325"><a href="#18-7-网络攻防大赛与CTF325" class="headerlink" title="18.7　网络攻防大赛与CTF325"></a>18.7　网络攻防大赛与CTF325</h4><p>2018年7月，银保监会发了一个《关于银行保险业网络安全攻防比赛的通知》，要求各机构积极报名参赛。<br>夺旗赛（Capture The Flag，CTF），在网络安全领域中指的是网络安全技术人员之间进行技术竞技的一种比赛形式。起源于1996年的DEFCON全球黑客大会。<br>CTF比赛从某种意义上是企业安全对抗能力的一种体现，可适当参与。</p><h4 id="18-8-小结329"><a href="#18-8-小结329" class="headerlink" title="18.8　小结329"></a>18.8　小结329</h4><h3 id="第19章-安全检测330"><a href="#第19章-安全检测330" class="headerlink" title="第19章　安全检测330"></a>第19章　安全检测330</h3><h4 id="19-1-安全检测方法330"><a href="#19-1-安全检测方法330" class="headerlink" title="19.1　安全检测方法330"></a>19.1　安全检测方法330</h4><ol><li>黑盒检测<ol><li>对应用系统熟悉程度</li><li>全面的安全技术支持</li><li>漏洞挖掘能力和实战技能</li><li>安全测试标准</li><li>测试人员素质</li><li>发散性思维</li></ol></li><li>白盒检测</li></ol><h4 id="19-2-检测工具331"><a href="#19-2-检测工具331" class="headerlink" title="19.2　检测工具331"></a>19.2　检测工具331</h4><ol><li>Burpsuite<br>集合了多种渗透测试组件，方便自动化和手工完成对Web应用的渗透测试和攻击。</li><li>AWVS<br>网络漏洞扫描工具，通过网络爬虫测试网站安全，检测流行安全漏洞。可快速扫描跨站脚本攻击XSS、SQL注入、XML注入、源代码泄露、目录遍历、代码执行、URL重定向、应用程序报错等。</li><li>AppScan</li><li>Sqlmap<br>开源渗透测试工具，可自动检测和利用SQL注入漏洞，支持五种SQL注入技术：基于布尔的盲注、基于时间的盲注、基于报错的注入、基于联合查询的注入、基于堆栈查询的注入。</li><li>Nmap<h4 id="19-3-安全检测思路和流程332"><a href="#19-3-安全检测思路和流程332" class="headerlink" title="19.3　安全检测思路和流程332"></a>19.3　安全检测思路和流程332</h4></li></ol><h4 id="19-4-安全检测案例334"><a href="#19-4-安全检测案例334" class="headerlink" title="19.4　安全检测案例334"></a>19.4　安全检测案例334</h4><h5 id="19-4-1-收集信息334"><a href="#19-4-1-收集信息334" class="headerlink" title="19.4.1　收集信息334"></a>19.4.1　收集信息334</h5><h5 id="19-4-2-暴力破解335"><a href="#19-4-2-暴力破解335" class="headerlink" title="19.4.2　暴力破解335"></a>19.4.2　暴力破解335</h5><h5 id="19-4-3-XSS检测343"><a href="#19-4-3-XSS检测343" class="headerlink" title="19.4.3　XSS检测343"></a>19.4.3　XSS检测343</h5><h5 id="19-4-4-OS命令执行检测344"><a href="#19-4-4-OS命令执行检测344" class="headerlink" title="19.4.4　OS命令执行检测344"></a>19.4.4　OS命令执行检测344</h5><h5 id="19-4-5-SQL注入检测345"><a href="#19-4-5-SQL注入检测345" class="headerlink" title="19.4.5　SQL注入检测345"></a>19.4.5　SQL注入检测345</h5><h5 id="19-4-6-XML实体注入检测346"><a href="#19-4-6-XML实体注入检测346" class="headerlink" title="19.4.6　XML实体注入检测346"></a>19.4.6　XML实体注入检测346</h5><h5 id="19-4-7-代码注入346"><a href="#19-4-7-代码注入346" class="headerlink" title="19.4.7　代码注入346"></a>19.4.7　代码注入346</h5><h5 id="19-4-8-文件上传漏洞检测347"><a href="#19-4-8-文件上传漏洞检测347" class="headerlink" title="19.4.8　文件上传漏洞检测347"></a>19.4.8　文件上传漏洞检测347</h5><h5 id="19-4-9-支付漏洞检测348"><a href="#19-4-9-支付漏洞检测348" class="headerlink" title="19.4.9　支付漏洞检测348"></a>19.4.9　支付漏洞检测348</h5><h5 id="19-4-10-密码找回漏洞349"><a href="#19-4-10-密码找回漏洞349" class="headerlink" title="19.4.10　密码找回漏洞349"></a>19.4.10　密码找回漏洞349</h5><h5 id="19-4-11-文件包含漏洞350"><a href="#19-4-11-文件包含漏洞350" class="headerlink" title="19.4.11　文件包含漏洞350"></a>19.4.11　文件包含漏洞350</h5><h4 id="19-5-红蓝对抗350"><a href="#19-5-红蓝对抗350" class="headerlink" title="19.5　红蓝对抗350"></a>19.5　红蓝对抗350</h4><h4 id="19-6-小结352"><a href="#19-6-小结352" class="headerlink" title="19.6　小结352"></a>19.6　小结352</h4><h3 id="第20章-安全运营353"><a href="#第20章-安全运营353" class="headerlink" title="第20章　安全运营353"></a>第20章　安全运营353</h3><h4 id="20-1-安全运营概述353"><a href="#20-1-安全运营概述353" class="headerlink" title="20.1　安全运营概述353"></a>20.1　安全运营概述353</h4><h4 id="20-2-架构354"><a href="#20-2-架构354" class="headerlink" title="20.2　架构354"></a>20.2　架构354</h4><h4 id="20-3-工具357"><a href="#20-3-工具357" class="headerlink" title="20.3　工具357"></a>20.3　工具357</h4><h4 id="20-4-所需资源359"><a href="#20-4-所需资源359" class="headerlink" title="20.4　所需资源359"></a>20.4　所需资源359</h4><h4 id="20-5-安全运营的思考361"><a href="#20-5-安全运营的思考361" class="headerlink" title="20.5　安全运营的思考361"></a>20.5　安全运营的思考361</h4><h4 id="20-6-小结364"><a href="#20-6-小结364" class="headerlink" title="20.6　小结364"></a>20.6　小结364</h4><h3 id="第21章-安全运营中心365"><a href="#第21章-安全运营中心365" class="headerlink" title="第21章　安全运营中心365"></a>第21章　安全运营中心365</h3><h4 id="21-1-安全运营中心概述365"><a href="#21-1-安全运营中心概述365" class="headerlink" title="21.1　安全运营中心概述365"></a>21.1　安全运营中心概述365</h4><h4 id="21-2-ArcSight简介365"><a href="#21-2-ArcSight简介365" class="headerlink" title="21.2　ArcSight简介365"></a>21.2　ArcSight简介365</h4><h4 id="21-3-SOC实施规划和架构设计369"><a href="#21-3-SOC实施规划和架构设计369" class="headerlink" title="21.3　SOC实施规划和架构设计369"></a>21.3　SOC实施规划和架构设计369</h4><h5 id="21-3-1-明确需求370"><a href="#21-3-1-明确需求370" class="headerlink" title="21.3.1　明确需求370"></a>21.3.1　明确需求370</h5><h5 id="21-3-2-架构环境370"><a href="#21-3-2-架构环境370" class="headerlink" title="21.3.2　架构环境370"></a>21.3.2　架构环境370</h5><h5 id="21-3-3-硬件规格372"><a href="#21-3-3-硬件规格372" class="headerlink" title="21.3.3　硬件规格372"></a>21.3.3　硬件规格372</h5><h5 id="21-3-4-日志管理策略373"><a href="#21-3-4-日志管理策略373" class="headerlink" title="21.3.4　日志管理策略373"></a>21.3.4　日志管理策略373</h5><h5 id="21-3-5-应用的资产和架构信息373"><a href="#21-3-5-应用的资产和架构信息373" class="headerlink" title="21.3.5　应用的资产和架构信息373"></a>21.3.5　应用的资产和架构信息373</h5><h5 id="21-3-6-外部信息集成策略374"><a href="#21-3-6-外部信息集成策略374" class="headerlink" title="21.3.6　外部信息集成策略374"></a>21.3.6　外部信息集成策略374</h5><h5 id="21-3-7-开发方法及方式374"><a href="#21-3-7-开发方法及方式374" class="headerlink" title="21.3.7　开发方法及方式374"></a>21.3.7　开发方法及方式374</h5><h5 id="21-3-8-工作流规划374"><a href="#21-3-8-工作流规划374" class="headerlink" title="21.3.8　工作流规划374"></a>21.3.8　工作流规划374</h5><h5 id="21-3-9-成果度量375"><a href="#21-3-9-成果度量375" class="headerlink" title="21.3.9　成果度量375"></a>21.3.9　成果度量375</h5><h4 id="21-4-ArcSight安装配置375"><a href="#21-4-ArcSight安装配置375" class="headerlink" title="21.4　ArcSight安装配置375"></a>21.4　ArcSight安装配置375</h4><h5 id="21-4-1-安装前准备376"><a href="#21-4-1-安装前准备376" class="headerlink" title="21.4.1　安装前准备376"></a>21.4.1　安装前准备376</h5><h5 id="21-4-2-初始化安装376"><a href="#21-4-2-初始化安装376" class="headerlink" title="21.4.2　初始化安装376"></a>21.4.2　初始化安装376</h5><h5 id="21-4-3-安装后验证377"><a href="#21-4-3-安装后验证377" class="headerlink" title="21.4.3　安装后验证377"></a>21.4.3　安装后验证377</h5><h5 id="21-4-4-性能调优377"><a href="#21-4-4-性能调优377" class="headerlink" title="21.4.4　性能调优377"></a>21.4.4　性能调优377</h5><h5 id="21-4-5-初始备份377"><a href="#21-4-5-初始备份377" class="headerlink" title="21.4.5　初始备份377"></a>21.4.5　初始备份377</h5><h5 id="21-4-6-压力测试377"><a href="#21-4-6-压力测试377" class="headerlink" title="21.4.6　压力测试377"></a>21.4.6　压力测试377</h5><h5 id="21-4-7-其他参数调整377"><a href="#21-4-7-其他参数调整377" class="headerlink" title="21.4.7　其他参数调整377"></a>21.4.7　其他参数调整377</h5><h4 id="21-5-小结378"><a href="#21-5-小结378" class="headerlink" title="21.5　小结378"></a>21.5　小结378</h4><h3 id="第22章-安全资产管理和矩阵式监控379"><a href="#第22章-安全资产管理和矩阵式监控379" class="headerlink" title="第22章　安全资产管理和矩阵式监控379"></a>第22章　安全资产管理和矩阵式监控379</h3><h4 id="22-1-安全资产管理379"><a href="#22-1-安全资产管理379" class="headerlink" title="22.1　安全资产管理379"></a>22.1　安全资产管理379</h4><h5 id="22-1-1-面临的问题379"><a href="#22-1-1-面临的问题379" class="headerlink" title="22.1.1　面临的问题379"></a>22.1.1　面临的问题379</h5><h5 id="22-1-2-解决思路和方案383"><a href="#22-1-2-解决思路和方案383" class="headerlink" title="22.1.2　解决思路和方案383"></a>22.1.2　解决思路和方案383</h5><h5 id="22-1-3-几点思考387"><a href="#22-1-3-几点思考387" class="headerlink" title="22.1.3　几点思考387"></a>22.1.3　几点思考387</h5><h4 id="22-2-矩阵式监控388"><a href="#22-2-矩阵式监控388" class="headerlink" title="22.2　矩阵式监控388"></a>22.2　矩阵式监控388</h4><h5 id="22-2-1-存在的问题388"><a href="#22-2-1-存在的问题388" class="headerlink" title="22.2.1　存在的问题388"></a>22.2.1　存在的问题388</h5><h5 id="22-2-2-解决方案388"><a href="#22-2-2-解决方案388" class="headerlink" title="22.2.2　解决方案388"></a>22.2.2　解决方案388</h5><h5 id="22-2-3-收益和体会391"><a href="#22-2-3-收益和体会391" class="headerlink" title="22.2.3　收益和体会391"></a>22.2.3　收益和体会391</h5><h4 id="22-3-小结392"><a href="#22-3-小结392" class="headerlink" title="22.3　小结392"></a>22.3　小结392</h4><h3 id="第23章-应急响应393"><a href="#第23章-应急响应393" class="headerlink" title="第23章　应急响应393"></a>第23章　应急响应393</h3><h4 id="23-1-概述393"><a href="#23-1-概述393" class="headerlink" title="23.1　概述393"></a>23.1　概述393</h4><h4 id="23-2-事件分类394"><a href="#23-2-事件分类394" class="headerlink" title="23.2　事件分类394"></a>23.2　事件分类394</h4><h4 id="23-3-事件分级395"><a href="#23-3-事件分级395" class="headerlink" title="23.3　事件分级395"></a>23.3　事件分级395</h4><h4 id="23-4-PDCERF模型395"><a href="#23-4-PDCERF模型395" class="headerlink" title="23.4　PDCERF模型395"></a>23.4　PDCERF模型395</h4><h4 id="23-5-其他话题396"><a href="#23-5-其他话题396" class="headerlink" title="23.5　其他话题396"></a>23.5　其他话题396</h4><h4 id="23-6-小结397"><a href="#23-6-小结397" class="headerlink" title="23.6　小结397"></a>23.6　小结397</h4><h3 id="第24章-安全趋势和安全从业者的未来398"><a href="#第24章-安全趋势和安全从业者的未来398" class="headerlink" title="第24章　安全趋势和安全从业者的未来398"></a>第24章　安全趋势和安全从业者的未来398</h3><h4 id="24-1-职业规划方法论398"><a href="#24-1-职业规划方法论398" class="headerlink" title="24.1　职业规划方法论398"></a>24.1　职业规划方法论398</h4><h4 id="24-2-安全环境趋势和安全从业趋势402"><a href="#24-2-安全环境趋势和安全从业趋势402" class="headerlink" title="24.2　安全环境趋势和安全从业趋势402"></a>24.2　安全环境趋势和安全从业趋势402</h4><h4 id="24-3-安全从业指南404"><a href="#24-3-安全从业指南404" class="headerlink" title="24.3　安全从业指南404"></a>24.3　安全从业指南404</h4><h4 id="24-4-安全从业注意事项408"><a href="#24-4-安全从业注意事项408" class="headerlink" title="24.4　安全从业注意事项408"></a>24.4　安全从业注意事项408</h4><h4 id="24-5-小结410"><a href="#24-5-小结410" class="headerlink" title="24.5　小结410"></a>24.5　小结410</h4><h3 id="附-录"><a href="#附-录" class="headerlink" title="附　　录"></a>附　　录</h3><h3 id="附录A-我的CISSP之路412"><a href="#附录A-我的CISSP之路412" class="headerlink" title="附录A　我的CISSP之路412"></a>附录A　我的CISSP之路412</h3><h3 id="附录B-企业安全技能树（插页）"><a href="#附录B-企业安全技能树（插页）" class="headerlink" title="附录B　企业安全技能树（插页）"></a>附录B　企业安全技能树（插页）</h3>]]></content>
    
    
    <categories>
      
      <category>读书笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>企业安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>抗生素分类及特点</title>
    <link href="/2021/09/16/BN-2103-%E6%8A%97%E7%94%9F%E7%B4%A0%E5%88%86%E7%B1%BB/"/>
    <url>/2021/09/16/BN-2103-%E6%8A%97%E7%94%9F%E7%B4%A0%E5%88%86%E7%B1%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="抗生素分类及特点"><a href="#抗生素分类及特点" class="headerlink" title="抗生素分类及特点"></a>抗生素分类及特点</h1><p>临床常用的抗生素包括β- 内酰胺类、氨基糖苷类、大环内酯类、林可霉素类、多肽类、喹诺酮类、磺胺类、抗结核药、抗真菌药及其他抗生素。</p><h2 id="β-内酰胺类"><a href="#β-内酰胺类" class="headerlink" title="β- 内酰胺类"></a>β- 内酰胺类</h2><div class="hljs code-wrapper"><pre><code>此类属于繁殖期杀菌剂。其特点是：血药浓度高、抗菌谱广和毒性低。包括青霉素类、头孢菌素类、新型β- 内酰胺类及β- 内酰胺类与β- 内酰胺酶抑制剂组成的复合制剂。</code></pre></div><h3 id="青霉素类"><a href="#青霉素类" class="headerlink" title="青霉素类"></a>青霉素类</h3><h4 id="青霉素-G："><a href="#青霉素-G：" class="headerlink" title="青霉素 G："></a>青霉素 G：</h4><div class="hljs code-wrapper"><pre><code>临床上主要用于肺炎球菌、溶血性链球菌及厌氧菌感染，金黄色葡萄球菌和流感杆菌多数对其耐药。普鲁卡因青霉素 G 半衰期较青霉素长。青霉素 V 钾片耐酸，可口服，使用方便。</code></pre></div><h4 id="双氯青霉素："><a href="#双氯青霉素：" class="headerlink" title="双氯青霉素："></a>双氯青霉素：</h4><div class="hljs code-wrapper"><pre><code>对产酸耐青霉素 G 的金黄色葡萄球菌抗菌活性最强，对其它 G+ 球菌较青霉素 G 差，对耐甲氧西林的金黄色葡萄球菌（MRSA）无效。</code></pre></div><p> </p><h4 id="阿莫西林："><a href="#阿莫西林：" class="headerlink" title="阿莫西林："></a>阿莫西林：</h4><div class="hljs code-wrapper"><pre><code>抗菌谱与氨苄青霉素相似，肺炎球菌、溶血性链球菌、肠球菌和流感杆菌对本药敏感，抗菌作用优于氨苄青霉素，但对假单胞菌无效。</code></pre></div><p> </p><h4 id="广谱抗假单胞菌类："><a href="#广谱抗假单胞菌类：" class="headerlink" title="广谱抗假单胞菌类："></a>广谱抗假单胞菌类：</h4><div class="hljs code-wrapper"><pre><code>对 G+ 球菌的抗菌作用与青霉素 G 相似，对 G- 杆菌（如大肠杆菌、变形杆菌、流感杆菌等）及假单胞菌有很强的抗菌作用，尤其哌拉西林、阿洛西林、美洛西林抗菌活性更强。</code></pre></div><p> </p><h4 id="抗-G-杆菌类："><a href="#抗-G-杆菌类：" class="headerlink" title="抗 G- 杆菌类："></a>抗 G- 杆菌类：</h4><div class="hljs code-wrapper"><pre><code>只用于抗 G- 杆菌，对 G+ 球菌及假单胞菌无效。</code></pre></div><p> </p><h3 id="头孢菌素类"><a href="#头孢菌素类" class="headerlink" title="头孢菌素类"></a>头孢菌素类</h3><p> <br>    此类属广谱抗菌药物，分四代。第一、二代对绿脓杆菌无效，第三代中部分品种及第四代对绿脓杆菌有效，该类药物对支原体和军团菌无效。 </p><h4 id="第一代头孢菌素："><a href="#第一代头孢菌素：" class="headerlink" title="第一代头孢菌素："></a>第一代头孢菌素：</h4><div class="hljs code-wrapper"><pre><code>包括头孢噻吩 \ 氨苄 \ 唑林 \ 拉定。对产酸金黄色葡萄球菌、肺炎球菌、溶血性链球菌等 G+ 球菌抗菌活性较第二、三代为强，对 G- 杆菌的作用远不如第二、三代，仅对少数肠道杆菌有作用。对β- 内酰胺酶稳定性差，对肾有一定毒性。对绿脓杆菌、变形杆菌、不动杆菌等无效。其中头孢唑林 \ 拉定较常用。</code></pre></div><p> </p><h4 id="第二代头孢菌素："><a href="#第二代头孢菌素：" class="headerlink" title="第二代头孢菌素："></a>第二代头孢菌素：</h4><div class="hljs code-wrapper"><pre><code>包括头孢呋辛 \ 克罗 \ 孟多 \ 替安 \ 美唑 \ 西丁等。对 G+ 球菌包括产酸金黄色葡萄球菌抗菌活性与第一代相似或略弱，对 G- 杆菌较第一代强，但不如第三代。对流感杆菌有很强的抗菌活性，尤其是头孢呋辛 \ 孟多，对绿 脓杆菌、沙雷菌、阴沟杆菌、不动杆菌无效。除头孢孟多外，对 β- 内酰胺酶稳定。</code></pre></div><p> </p><h4 id="第三代头孢菌素："><a href="#第三代头孢菌素：" class="headerlink" title="第三代头孢菌素："></a>第三代头孢菌素：</h4><div class="hljs code-wrapper"><pre><code>包括头孢他定 \ 三嗪 \ 噻肟 \ 哌酮 \ 地嗪 \ 甲肟 \ 克肟等。对产酸金黄色葡萄球菌有一定活性，但较第一、二代为弱，对 G- 杆菌包括沙雷菌、绿脓杆菌有强大的抗菌活性，其中头孢他定抗菌谱更广，抗绿脓杆菌作用最强，其次为头孢哌酮。头孢地嗪对绿脓杆菌、不动杆菌、类肠球菌无效。除头孢哌酮外，对 β- 内酰胺酶稳定，肾毒性少见。</code></pre></div><p> </p><h4 id="第四代头孢菌素："><a href="#第四代头孢菌素：" class="headerlink" title="第四代头孢菌素："></a>第四代头孢菌素：</h4><div class="hljs code-wrapper"><pre><code>包括头孢匹罗 \ 吡肟 \ 唑喃等。抗菌作用快，抗菌活力较第三代强，对 G+ 球菌包括产酸金黄色葡萄球菌有相当活性。对 G- 杆菌包括绿脓杆菌与第三代相似。对耐药菌株的活性超过第三代。头孢匹罗对包括绿脓杆菌、沙雷菌、阴沟杆菌在内的 Gˉ 杆菌的作用优于头孢他定。头孢吡肟对 G+ 球菌的作用明显增强，除黄杆菌及厌 氧菌外，对本品均敏感。对β- 内酰胺酶更稳定。</code></pre></div><h3 id="新型-β-内酰胺类"><a href="#新型-β-内酰胺类" class="headerlink" title="新型 β- 内酰胺类"></a>新型 β- 内酰胺类</h3><div class="hljs code-wrapper"><pre><code>包括碳青霉烯类（亚胺培南、帕尼培南、美洛培南）和单环 β- 内酰胺类（氨曲南、卡芦莫南）。泰能（亚胺培南 / 西司他定）：抗菌谱极广，对 G- 杆菌、G+ 球菌及厌氧菌，包括对其他抗生素耐药的绿脓杆菌、金黄色葡萄球菌、粪链球菌、脆弱拟杆菌均有极强的抗菌活力，对多数耐药菌的活性超过第三代头孢菌素。对各种β- 内酰胺酶高度稳定。</code></pre></div><p> </p><h4 id="氨曲南："><a href="#氨曲南：" class="headerlink" title="氨曲南："></a>氨曲南：</h4><div class="hljs code-wrapper"><pre><code>对多数 G- 杆菌包括肠杆菌科和绿脓杆菌均有良好的抗菌作用，但对 G+ 球菌及厌氧菌无效，对 β- 内酰胺酶稳定。</code></pre></div><h4 id="β-内酰胺酶抑制剂"><a href="#β-内酰胺酶抑制剂" class="headerlink" title="β- 内酰胺酶抑制剂"></a>β- 内酰胺酶抑制剂</h4><div class="hljs code-wrapper"><pre><code>β- 内酰胺酶抑制剂能够与细菌产生的 β- 内酰胺酶行自杀性结合，从而保护 β- 内酰胺不被 β- 内酰胺酶所水解，继续发挥抗菌作用。临床上常用的β- 内酰胺酶 抑制剂有克拉维酸、舒巴坦和他唑巴坦，它们与 β- 内酰胺类组成复合制剂，对耐药菌株可增强杀菌效果，并可使抗菌谱扩大。常用的品种有安灭菌（阿莫西林加克 拉维酸）、特美汀（替卡西林加克拉维酸）、优立新（氨苄青霉素加舒巴坦）、舒普深（头孢哌酮加舒巴坦）和他唑西林（哌拉西林加他唑巴坦）。</code></pre></div><h3 id="氨基糖苷类"><a href="#氨基糖苷类" class="headerlink" title="氨基糖苷类"></a>氨基糖苷类</h3><div class="hljs code-wrapper"><pre><code>此类属静止期杀菌剂。常用的有阿米卡星、妥布霉素、庆大霉素、奈替米星、西索米星及链霉素。主要抗 G- 杆菌，包括绿脓杆菌、肠杆菌科细菌、沙雷菌、不动杆 菌等。阿米卡星作用最强。抗 G+ 球菌也有一定活性，但不如第一、二代头孢菌素。对葡萄球菌的抗菌活性以奈替米星作用最强，对结核杆菌以链霉素最好。对厌氧菌无效。此类药物对听神经和肾有毒性作用，使用受到一定的限制。</code></pre></div><h3 id="大环内酯类"><a href="#大环内酯类" class="headerlink" title="大环内酯类"></a>大环内酯类</h3><div class="hljs code-wrapper"><pre><code>属窄谱速效抑菌剂，抗菌谱与青霉素 G 相似，主要为需氧的 G+ 球菌、G- 杆菌及厌氧球菌。军团菌、支原体、衣原体及部分流感杆菌对此类药物敏感。对绿脓杆菌、大多数肠杆菌科细菌无效。新大环内酯类包括罗红霉素、克 拉霉素和阿奇霉素，与红霉素相比，抗菌谱没有明显扩大，但药物代谢动力学改善和副作用减少是其明显进步。阿奇霉素对 G+ 球菌作用比红霉素差，对 G- 杆菌比 红霉素强，尤其对社会获得性肺炎（CAP）的常见致病菌、流感杆菌、支原体、衣原体和军团菌均有很好的抗菌活性，可作为 CAP 治疗的第一选择。</code></pre></div><h3 id="四环素类"><a href="#四环素类" class="headerlink" title="四环素类"></a>四环素类</h3><div class="hljs code-wrapper"><pre><code>属广谱抗生素。因常见致病菌多已耐药，现在仅用于支原体、衣原体、立克次体及军团菌感染，多西环素和米诺环素抗菌谱同四环素，但抗菌作用比四环素强 5 倍，米诺环素作用更强，对多数 MRSA 有效。</code></pre></div><h3 id="林可霉素类"><a href="#林可霉素类" class="headerlink" title="林可霉素类"></a>林可霉素类</h3><div class="hljs code-wrapper"><pre><code>包括林可霉素、氯林可霉素，抗菌谱较窄，抗菌作用与红霉素相似，氯林可霉素抗菌活性较林可霉素强 4-8 倍，主要用于金黄色葡萄球菌和厌氧菌感染。</code></pre></div><h3 id="多肽类"><a href="#多肽类" class="headerlink" title="多肽类"></a>多肽类</h3><div class="hljs code-wrapper"><pre><code>包括多粘菌素 B 、多粘菌素 E 、万古霉素、去甲万古霉素及壁霉素。多粘菌素 B 和 E ，肾毒性大，疗效差，只用于严重耐药的 G- 杆菌感染。万古霉素和去甲万古霉素属于繁殖期杀菌剂，对包括多重耐药的金黄色葡萄球菌、溶血性链球菌、肺炎球菌、粪链球菌等 G+ 球菌有高度抗菌活性，对 G- 杆菌多数耐药。壁霉素抗菌谱与抗菌作用与万古霉素相似，但对表皮葡萄球菌稍差，对肠球菌和难辩梭菌强于万古霉素。</code></pre></div><h3 id="喹诺酮类"><a href="#喹诺酮类" class="headerlink" title="喹诺酮类"></a>喹诺酮类</h3><div class="hljs code-wrapper"><pre><code>包括诺氟沙星、环丙沙星、氧氟沙星、左氧氟沙星、氟罗沙星、依洛沙星、洛美沙星、司帕沙星、格雷沙星、芦氟沙星、克林沙星、巴罗沙星、曲伐沙星等。抗菌谱与第三代头孢菌素相似而较广，对 G- 杆菌抗菌活性较 G+ 球菌强，与环丙沙星、氧氟沙星相比，新喹诺酮类在保持原有对 G- 杆菌良好抗菌活性的同时，对 G+ 球菌抗菌活性增强，以克林沙星、曲伐沙星最强。对 G+ 厌氧菌抗菌活性也有所增强，其中曲伐沙星较甲硝唑高 10 倍以上，被认为是目前喹诺酮类对 G+ 厌氧菌抗菌活性最强者。对其他呼吸科常见病原体的抗菌活性也有不同程度的提高，如司帕沙星对结核杆菌抗菌活性较环丙沙星强 4-8 倍，对其他分支杆菌、 军团菌、支原体、衣原体及 MRSA 均具有相当活性。</code></pre></div><p> <br>    临床上多用于院内感染，尤其对其他抗生素耐药的 G- 杆菌及 MRSA 感染等。<br> <br>    近年来，细菌耐药率日益增加，尤其以肠杆菌、MRSA 和绿脓杆菌最为显著。本类药物可使细菌在各品种间产生交叉耐药，并对其它抗生素，如β- 内酰胺类药物产生耐药。故选用时应注意选择适应证。<br> <br>    喹诺酮类药物新的分类法是将原来的第一、二代合称第一代，代表药物有萘啶酸、吡哌酸，抗菌谱为 G- 杆菌，用于尿路和肠道感染；将比较早期开发的氟喹诺酮类药物总称为第二代，代表药物有氧氟沙星、环丙沙星，抗菌谱为 G- 杆菌为主，用于各系统感染。<br> <br>    第三代是在第二代的基础上增加了抗 G+ 球菌的活性，代表药物有司帕沙星、帕苏沙星，抗菌谱包括 Gˉ 杆菌和 G+ 球菌，用于各系统感染；第四代是在第三代的基础上增加了抗厌氧菌的活性，代表药物有曲伐沙星、莫西沙星，抗菌谱包括 G- 杆菌、G+ 球菌和厌氧菌，用于各系统感染。<br> <br>    第三、四代与第二代相比，主要是增加了对 G+ 球菌、厌氧菌、支原体、结核杆菌、军 团菌的抗菌活性，可作为 CAP 的第一线治疗用药。</p><h3 id="磺胺类"><a href="#磺胺类" class="headerlink" title="磺胺类"></a>磺胺类</h3><div class="hljs code-wrapper"><pre><code>常用的有复方新诺明，多用于轻、中度细菌感染和衣原体感染，是卡氏肺孢子虫病的首选药物。</code></pre></div><h3 id="抗结核药"><a href="#抗结核药" class="headerlink" title="抗结核药"></a>抗结核药</h3><div class="hljs code-wrapper"><pre><code>常用的有异烟肼、利福平、吡嗪酰胺、乙胺丁醇和链霉素等。</code></pre></div><p> <br>    异烟肼是抗结核首选药物，是一个细胞内外结核菌的全效杀菌剂，对繁殖期细菌效果较好，对静止期细菌效果差。利福平对结核菌有很强的抗菌活性，作用在繁殖期和静止期细胞内和细胞外，为全效杀菌剂。<br> <br>    吡嗪酰胺为细胞内及酸性环境中的强效杀菌剂，乙 胺丁醇对繁殖期细菌有抑菌作用。异烟肼、利福平和吡嗪酰胺是组成初始短程化疗方案的最主要药物，乙胺丁醇（或链霉素）可参与短程化疗方案的组成。以上药物 联合应用，可增加疗效，延缓耐药性产生。</p><h3 id="抗真菌药"><a href="#抗真菌药" class="headerlink" title="抗真菌药"></a>抗真菌药</h3><div class="hljs code-wrapper"><pre><code>包括两性霉素 B 、氟康唑、伊曲康唑及 5- 氟胞嘧啶等。两性霉素 B 是最强的广谱抗真菌药，尽管其毒副作用大，但仍是深部真菌感染的首选药物之一，对新型隐球菌、组织胞浆菌、球孢子菌、念珠菌及曲霉菌等有较强的抗菌活性。</code></pre></div><p> <br>    氟康唑是广谱抗真菌药，对大部分念珠菌属、隐球菌屈和孢子菌属等有高效，但对曲霉 菌无效。伊曲康唑口服吸收好，抗菌谱广，对曲霉菌也有明显活性，毒副作用小。<br> <br>    5- 氟胞嘧啶抗菌谱窄，对新型隐球菌、白色念珠菌有较强抗菌活性，对某些曲霉菌也有一定作用，与两性霉素 B 或氟康唑合用，可以提高疗效，防止耐药性产生。</p><h3 id="其他抗菌药物"><a href="#其他抗菌药物" class="headerlink" title="其他抗菌药物"></a>其他抗菌药物</h3><div class="hljs code-wrapper"><pre><code>如磷霉素，抗菌谱广，但抗菌作用不强，毒性低。甲硝唑、替硝唑，对各种专性厌氧菌有强大的杀菌作用，疗效明显优于林可霉素，对需氧菌或兼性厌氧菌无效，可与其它抗生素联合应用治疗混合感染。</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>读书笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>药物杂记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git搭建本地远程仓库</title>
    <link href="/2021/09/15/Git-2101-Git%E5%AD%A6%E4%B9%A0/"/>
    <url>/2021/09/15/Git-2101-Git%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="Git学习"><a href="#Git学习" class="headerlink" title="Git学习"></a>Git学习</h1><h2 id="基础操作"><a href="#基础操作" class="headerlink" title="基础操作"></a>基础操作</h2><h2 id="git配置本地远程仓库"><a href="#git配置本地远程仓库" class="headerlink" title="git配置本地远程仓库"></a>git配置本地远程仓库</h2><p>在本地的移动硬盘中创建git远程仓库，将电脑中的数据同步到git仓库中。</p><h3 id="创建远程仓库"><a href="#创建远程仓库" class="headerlink" title="创建远程仓库"></a>创建远程仓库</h3><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">cd /Volumes/MacOS/<br>mkdir workSpace<br>cd workSpace<br>git init<br></code></pre></div></td></tr></table></figure><h3 id="关联远程仓库"><a href="#关联远程仓库" class="headerlink" title="关联远程仓库"></a>关联远程仓库</h3><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">cd &quot;实际工作目录&quot;<br>git init   #初始化git目录<br>git add .  #添加修改至临时缓存区<br>git commit -m &quot;init&quot;  #提交至本地仓库<br>git remote add origin /Volumes/MacOS/workSpace  #关联远程仓库的位置<br>git push -u origin master #向远程仓库提交<br></code></pre></div></td></tr></table></figure><p>此时会报错</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">git push -u origin master<br><br>Counting objects: 4, done.<br>Delta compression using up to 16 threads.<br>Compressing objects: 100% (2/2), done.<br>Writing objects: 100% (4/4), 245 bytes | 0 bytes/s, done.<br>Total 4 (delta 0), reused 0 (delta 0)<br>remote: error: refusing to update checked out branch: refs/heads/master<br>remote: error: By default, updating the current branch in a non-bare repository<br>remote: error: is denied, because it will make the index and work tree inconsistent<br>remote: error: with what you pushed, and will require &#x27;git reset --hard&#x27; to match<br>remote: error: the work tree to HEAD.<br>remote: error: <br>remote: error: You can set &#x27;receive.denyCurrentBranch&#x27; configuration variable to<br>remote: error: &#x27;ignore&#x27; or &#x27;warn&#x27; in the remote repository to allow pushing into<br>remote: error: its current branch; however, this is not recommended unless you<br>remote: error: arranged to update its work tree to match what you pushed in some<br>remote: error: other way.<br>remote: error: <br>remote: error: To squelch this message and still keep the default behaviour, set<br>remote: error: &#x27;receive.denyCurrentBranch&#x27; configuration variable to &#x27;refuse&#x27;.<br>To /home/lu/Temp/git_server/Test/<br> ! [remote rejected] master -&gt; master (branch is currently checked out)<br>error: failed to push some refs to &#x27;/home/lu/Temp/git_server/Test/<br><br></code></pre></div></td></tr></table></figure><p>因为我们的远程仓库也只是一般的仓库而不是裸仓库，如果是裸仓库的话就不会出现这个问题了。<br>根据错误提示，我们可以进行相应的配置：</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">git config --global receive.denyCurrentBranch ignore<br></code></pre></div></td></tr></table></figure><p>也可以直接修改配置文件：</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">vim ~/.gitconfig<br><br>在文件中添加以下内容即可<br>[receive]<br>    denyCurrentBranch = ignore<br></code></pre></div></td></tr></table></figure><p>配置完后，再push一次。</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">git push -u origin master<br><br>Counting objects: 4, done.<br>Delta compression using up to 16 threads.<br>Compressing objects: 100% (2/2), done.<br>Writing objects: 100% (4/4), 245 bytes | 0 bytes/s, done.<br>Total 4 (delta 0), reused 0 (delta 0)<br>To /home/lu/Temp/git_server/Test/<br> * [new branch]      master -&gt; master<br>Branch master set up to track remote branch master from origin.<br></code></pre></div></td></tr></table></figure><p>提交上去了，但是目前远程仓库中还看不到提交的数据<br>git status可以看到，但是没有写到磁盘上</p><h3 id="添加git-hook"><a href="#添加git-hook" class="headerlink" title="添加git hook"></a>添加git hook</h3><p>git hook是一个非常强大的功能，它可以监听我们对仓库的修改，继而触发相应的逻辑命令。这里为了完成同事的需求，只说说post-update，就是提交有代码更新到仓库时需要执行的操作。</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">cd .git/hooks<br>mv post-update.sample post-update<br>vim post-update<br></code></pre></div></td></tr></table></figure><p>修改内容</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">!/bin/sh</span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># An example hook script to prepare a packed repository for use over</span></span><br><span class="hljs-meta">#</span><span class="bash"> dumb transports.</span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># To enable this hook, rename this file to &quot;post-update&quot;.</span></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-built_in">exec</span> git update-server-info</span><br>unset GIT_DIR<br>cd ..<br>git checkout -f<br></code></pre></div></td></tr></table></figure><h3 id="修改完成"><a href="#修改完成" class="headerlink" title="修改完成"></a>修改完成</h3><p>再次push</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">echo &quot;demo&quot; &gt; demo #修改某些文件<br>git add .<br>git commit -m &quot;add demo&quot;<br>git push<br>Counting objects: 3, done.<br>Delta compression using up to 16 threads.<br>Compressing objects: 100% (2/2), done.<br>Writing objects: 100% (3/3), 288 bytes | 0 bytes/s, done.<br>Total 3 (delta 0), reused 0 (delta 0)<br>To /home/lu/Temp/git_server/Test/<br>   7be5b2a..9da7116  master -&gt; master<br></code></pre></div></td></tr></table></figure><p>提交之后可查看移动硬盘中的远程仓库，已经上传成功。</p><h2 id="借助百度网盘实现实时同步"><a href="#借助百度网盘实现实时同步" class="headerlink" title="借助百度网盘实现实时同步"></a>借助百度网盘实现实时同步</h2><p>下载百度同步网盘MAC版<br><a href="https://pan.baidu.com/download#pan">https://pan.baidu.com/download#pan</a><br>百度网盘新建文件夹GitSpace，用于存放同步数据。<br>本地新建GitSpace，在此文件夹下创建各项目子文件夹及git仓库。<br>选择同步即可。</p>]]></content>
    
    
    <categories>
      
      <category>Git学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tips</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo&amp;Github搭建私人博客</title>
    <link href="/2021/09/15/Git-2102-hexo&amp;github%E6%90%AD%E5%BB%BA%E7%A7%81%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <url>/2021/09/15/Git-2102-hexo&amp;github%E6%90%AD%E5%BB%BA%E7%A7%81%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="Hexo-amp-Github搭建私人博客"><a href="#Hexo-amp-Github搭建私人博客" class="headerlink" title="Hexo&amp;Github搭建私人博客"></a>Hexo&amp;Github搭建私人博客</h1><h2 id="1-Hexo介绍"><a href="#1-Hexo介绍" class="headerlink" title="1 Hexo介绍"></a>1 Hexo介绍</h2><p><a href="https://hexo.io/zh-cn/">Hexo</a>是基于<code>NodeJs</code>的静态博客框架，简单、轻量，其生成的静态网页可以托管在<code>Github</code>和<code>Heroku</code>上。</p><ul><li>超快速度</li><li>支持MarkDown</li><li>一键部署</li><li>丰富的插件</li></ul><blockquote><p>下面以我的博客为例，humsuntt.github.io</p></blockquote><h2 id="2-环境准备"><a href="#2-环境准备" class="headerlink" title="2 环境准备"></a>2 环境准备</h2><h3 id="2-1-安装node-js"><a href="#2-1-安装node-js" class="headerlink" title="2.1 安装node.js"></a>2.1 安装node.js</h3><p>去<a href="https://nodejs.org/en/download/">nodejs官网</a>下载对应系统的安装包，按提示安装。<br><strong>nodejs安装版本要高于V12,否则会出现很多意想不到的错误。</strong></p><p>检验安装成功：</p><figure class="highlight crmsh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs crmsh">$ <span class="hljs-keyword">node</span> <span class="hljs-title">-v</span><br></code></pre></div></td></tr></table></figure><h3 id="2-2-安装hexo"><a href="#2-2-安装hexo" class="headerlink" title="2.2 安装hexo"></a>2.2 安装hexo</h3><figure class="highlight avrasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs avrasm">$ npm install hexo-<span class="hljs-keyword">cli</span> -g<br></code></pre></div></td></tr></table></figure><h2 id="3-利用Hexo搭建一个博客"><a href="#3-利用Hexo搭建一个博客" class="headerlink" title="3 利用Hexo搭建一个博客"></a>3 利用Hexo搭建一个博客</h2><h3 id="3-1-创建博客目录humsuntt-github-io"><a href="#3-1-创建博客目录humsuntt-github-io" class="headerlink" title="3.1 创建博客目录humsuntt.github.io"></a>3.1 创建博客目录<code>humsuntt.github.io</code></h3><figure class="highlight powershell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs powershell"><span class="hljs-variable">$</span> hexo init humsuntt.github.io<br><span class="hljs-variable">$</span> <span class="hljs-built_in">cd</span> humsuntt.github.io<br><span class="hljs-variable">$</span> npm install<br></code></pre></div></td></tr></table></figure><h3 id="3-2-生成静态页面"><a href="#3-2-生成静态页面" class="headerlink" title="3.2 生成静态页面"></a>3.2 生成静态页面</h3><figure class="highlight elixir"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs elixir"><span class="hljs-variable">$ </span>hexo clean<br><span class="hljs-variable">$ </span>hexo g<br></code></pre></div></td></tr></table></figure><blockquote><p>g 即generate</p></blockquote><h3 id="3-3-运行"><a href="#3-3-运行" class="headerlink" title="3.3 运行"></a>3.3 运行</h3><figure class="highlight elixir"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs elixir"><span class="hljs-variable">$ </span>hexo s<br></code></pre></div></td></tr></table></figure><blockquote><p>s 即server</p></blockquote><p>然后打开浏览器，输入地址 <strong>localhost:4000</strong> 即可看到效果</p><h2 id="4-发一篇文章试试"><a href="#4-发一篇文章试试" class="headerlink" title="4 发一篇文章试试"></a>4 发一篇文章试试</h2><h3 id="4-1-命令方式"><a href="#4-1-命令方式" class="headerlink" title="4.1 命令方式"></a>4.1 命令方式</h3><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> hexo new <span class="hljs-built_in">test</span></span><br></code></pre></div></td></tr></table></figure><p>此时会在<code>source/_posts</code>目录下生成<code>test.md</code>文件，输入些许内容，然后保存.</p><p>生成下，看看效果</p><figure class="highlight elixir"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs elixir"><span class="hljs-variable">$ </span>hexo clean<br><span class="hljs-variable">$ </span>hexo g<br><span class="hljs-variable">$ </span>hexo s<br></code></pre></div></td></tr></table></figure><p>访问 <strong>localhost:4000</strong> 即可</p><h3 id="4-2-直接方式"><a href="#4-2-直接方式" class="headerlink" title="4.2 直接方式"></a>4.2 直接方式</h3><p>在 <strong>source/_posts</strong> 下新建一个<code>.md</code>文件也可</p><h2 id="5-配置"><a href="#5-配置" class="headerlink" title="5 配置"></a>5 配置</h2><p>网站的设置大部分都在_config.yml文件中，详细配置可以查看<a href="https://hexo.io/zh-cn/docs/configuration.html">官方文档</a></p><p>下面只列出简单常用配置</p><ul><li><strong>title</strong> -&gt; 网站标题</li><li><strong>subtitle</strong> -&gt; 网站副标题</li><li><strong>description</strong> -&gt; 网站描述</li><li><strong>author</strong> -&gt; 您的名字</li><li><strong>language</strong> -&gt; 网站使用的语言</li></ul><p>坑：<strong>进行配置时，需要在冒号:后加一个英文空格</strong></p><figure class="highlight vbnet"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vbnet"><span class="hljs-symbol">title:</span> Hero<span class="hljs-comment">&#x27;s wings</span><br></code></pre></div></td></tr></table></figure><h2 id="6-换一个好看的主题"><a href="#6-换一个好看的主题" class="headerlink" title="6 换一个好看的主题"></a>6 换一个好看的主题</h2><p>Hexo 中有很多主题，可以在<a href="https://hexo.io/themes/">官网</a>查看。<br>这里我推荐<a href="https://github.com/iissnan/hexo-theme-next">hexo-theme-next</a>，下面列举更换主题的一般套路：</p><h3 id="6-1-下载主题资源"><a href="#6-1-下载主题资源" class="headerlink" title="6.1 下载主题资源"></a>6.1 下载主题资源</h3><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">$ git clone https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/iissnan/</span>hexo-theme-<span class="hljs-keyword">next</span> themes/<span class="hljs-keyword">next</span><br></code></pre></div></td></tr></table></figure><p>git无法克隆的话，可以直接下载主题压缩包，解压后在theme目录下新建next文件夹，将整个主题文件放进去即可。</p><h3 id="6-2-应用下载的主题"><a href="#6-2-应用下载的主题" class="headerlink" title="6.2 应用下载的主题"></a>6.2 应用下载的主题</h3><p>在网站配置文件_config.yml中，配置<strong>theme</strong></p><figure class="highlight vbnet"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vbnet"><span class="hljs-symbol">theme:</span> <span class="hljs-keyword">next</span><br></code></pre></div></td></tr></table></figure><blockquote><p>next是主题名称，具体的可查看主题的文档</p></blockquote><h3 id="6-3-主题其他配置"><a href="#6-3-主题其他配置" class="headerlink" title="6.3 主题其他配置"></a>6.3 主题其他配置</h3><p>可在<code>/theme/&#123;theme&#125;/_config.yml</code> 主题的配置文件下进行主题的配置。</p><p>接下来，可以执行万能的调试命令看看效果</p><figure class="highlight elixir"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs elixir"><span class="hljs-variable">$ </span>hexo clean<br><span class="hljs-variable">$ </span>hexo g<br><span class="hljs-variable">$ </span>hexo s<br></code></pre></div></td></tr></table></figure><h2 id="7-部署到Github"><a href="#7-部署到Github" class="headerlink" title="7 部署到Github"></a>7 部署到Github</h2><h3 id="7-1-有个github账号xxx"><a href="#7-1-有个github账号xxx" class="headerlink" title="7.1 有个github账号xxx"></a>7.1 有个github账号xxx</h3><h3 id="7-2-创建一个xxx-github-io的public仓库"><a href="#7-2-创建一个xxx-github-io的public仓库" class="headerlink" title="7.2 创建一个xxx.github.io的public仓库"></a>7.2 创建一个xxx.github.io的public仓库</h3><p>如果您的账户名是humsuntt,则需要创建一个humsuntt.github.io的public仓库.</p><h3 id="7-3-安装-hexo-deployer-git"><a href="#7-3-安装-hexo-deployer-git" class="headerlink" title="7.3 安装 hexo-deployer-git"></a>7.3 安装 <a href="https://github.com/hexojs/hexo-deployer-git">hexo-deployer-git</a></h3><figure class="highlight ada"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ada">$ npm install hexo-deployer-git <span class="hljs-comment">--save</span><br></code></pre></div></td></tr></table></figure><h3 id="7-4-网站配置git"><a href="#7-4-网站配置git" class="headerlink" title="7.4 网站配置git"></a>7.4 网站配置git</h3><p>在网站的<code>_config.yml</code>中配置deploy</p><figure class="highlight dts"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repo:</span> https:<span class="hljs-comment">//github.com/HumSunTT/HumSunTT.github.io</span><br><span class="hljs-symbol">  branch:</span> main<br></code></pre></div></td></tr></table></figure><blockquote><p><code>branch</code>为分支，设置为<code>main</code></p></blockquote><blockquote><p><code>repo</code>为仓库地址</p></blockquote><h3 id="7-5-部署"><a href="#7-5-部署" class="headerlink" title="7.5 部署"></a>7.5 部署</h3><figure class="highlight 1c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs 1c">$ hexo clean <span class="hljs-meta">&amp;&amp; hexo deploy</span><br></code></pre></div></td></tr></table></figure><blockquote><p>d 即deploy</p></blockquote><h2 id="8-贴标签，方便搜索"><a href="#8-贴标签，方便搜索" class="headerlink" title="8 贴标签，方便搜索"></a>8 贴标签，方便搜索</h2><h3 id="8-1-两个确认"><a href="#8-1-两个确认" class="headerlink" title="8.1 两个确认"></a>8.1 两个确认</h3><ul><li>确认站点配置文件有 <figure class="highlight avrasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs avrasm"><span class="hljs-symbol">tag_dir:</span> tags<br></code></pre></div></td></tr></table></figure></li><li>确认主题配置文件有<figure class="highlight subunit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs subunit"><span class="hljs-keyword">tags:</span> tags<br></code></pre></div></td></tr></table></figure></li></ul><h3 id="8-2-新建tags页面"><a href="#8-2-新建tags页面" class="headerlink" title="8.2 新建tags页面"></a>8.2 新建tags页面</h3><figure class="highlight haxe"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haxe">$ hexo <span class="hljs-keyword">new</span> <span class="hljs-type">page</span> tags<br></code></pre></div></td></tr></table></figure><p>此时会在<code>source/</code>下生成<code>tags/index.md</code>文件</p><h3 id="8-3-修改source-tags-index-md"><a href="#8-3-修改source-tags-index-md" class="headerlink" title="8.3 修改source/tags/index.md"></a>8.3 修改source/tags/index.md</h3><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">title</span>: tags<br><span class="hljs-attribute">date</span>: <span class="hljs-number">2015</span>-<span class="hljs-number">10</span>-<span class="hljs-number">20</span> <span class="hljs-number">06</span>:<span class="hljs-number">49</span>:<span class="hljs-number">50</span><br><span class="hljs-attribute">type</span>: <span class="hljs-string">&quot;tags&quot;</span><br><span class="hljs-attribute">comments</span>: false<br></code></pre></div></td></tr></table></figure><blockquote><p>date 可保持系统生成的时间，</p></blockquote><figure class="highlight vbnet"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vbnet"><span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;tags&quot;</span><br><span class="hljs-symbol">comments:</span> <span class="hljs-literal">false</span><br></code></pre></div></td></tr></table></figure><p>很重要</p><h3 id="8-4-在文章中添加tags"><a href="#8-4-在文章中添加tags" class="headerlink" title="8.4 在文章中添加tags"></a>8.4 在文章中添加tags</h3><p>在文章<code>xx.md</code>中添加：</p><figure class="highlight subunit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs subunit"><span class="hljs-keyword">tags:</span> <br>- Tag1<br>- Tag2<br>- Tag3<br></code></pre></div></td></tr></table></figure><p>多个Tag可按上面的格式添加。</p><p>其文件头部类似：</p><figure class="highlight subunit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs subunit">title: TagEditText<br>date: 2016<span class="hljs-string">-11</span><span class="hljs-string">-19</span> 10:44:25<br><span class="hljs-keyword">tags:</span> <br>- Tag1<br>- Tag2<br>- Tag3<br></code></pre></div></td></tr></table></figure><h2 id="9-分类，给文章归档"><a href="#9-分类，给文章归档" class="headerlink" title="9 分类，给文章归档"></a>9 分类，给文章归档</h2><h3 id="9-1-两个确认"><a href="#9-1-两个确认" class="headerlink" title="9.1 两个确认"></a>9.1 两个确认</h3><ul><li>确认站点配置文件打开了<figure class="highlight avrasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs avrasm"><span class="hljs-symbol">category_dir:</span> categories<br></code></pre></div></td></tr></table></figure></li><li>确认主题配置文件打开了<figure class="highlight avrasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs avrasm"><span class="hljs-symbol">categories:</span> /categories<br></code></pre></div></td></tr></table></figure></li></ul><h3 id="9-2-新建categories文件"><a href="#9-2-新建categories文件" class="headerlink" title="9.2 新建categories文件"></a>9.2 新建categories文件</h3><figure class="highlight haxe"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haxe">$ hexo <span class="hljs-keyword">new</span> <span class="hljs-type">page</span> categories<br></code></pre></div></td></tr></table></figure><p>此时会在<code>source</code>目录下生成<code>categories/index.md</code>文件</p><h3 id="9-3-修改categories-index-md"><a href="#9-3-修改categories-index-md" class="headerlink" title="9.3 修改categories/index.md"></a>9.3 修改categories/index.md</h3><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">title</span>: categories<br><span class="hljs-attribute">date</span>: <span class="hljs-number">2015</span>-<span class="hljs-number">10</span>-<span class="hljs-number">20</span> <span class="hljs-number">06</span>:<span class="hljs-number">49</span>:<span class="hljs-number">50</span><br><span class="hljs-attribute">type</span>: <span class="hljs-string">&quot;categories&quot;</span><br><span class="hljs-attribute">comments</span>: false<br></code></pre></div></td></tr></table></figure><blockquote><p>date 可保持系统生成的时间，</p></blockquote><figure class="highlight vbnet"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vbnet"><span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;categories&quot;</span><br><span class="hljs-symbol">comments:</span> <span class="hljs-literal">false</span><br></code></pre></div></td></tr></table></figure><p>很重要</p><h3 id="9-4-在文章中添加categories"><a href="#9-4-在文章中添加categories" class="headerlink" title="9.4 在文章中添加categories"></a>9.4 在文章中添加categories</h3><p>在文章xx.md中添加：</p><figure class="highlight avrasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs avrasm"><span class="hljs-symbol">categories:</span> <br>- cate<br></code></pre></div></td></tr></table></figure><p>其文件头部类似：</p><figure class="highlight yaml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">title:</span> <span class="hljs-string">TagEditText</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2016-11-19 10:44:25</span><br><span class="hljs-attr">categories:</span> <br><span class="hljs-bullet">-</span> <span class="hljs-string">cate</span><br></code></pre></div></td></tr></table></figure><h2 id="10-添加评论功能"><a href="#10-添加评论功能" class="headerlink" title="10 添加评论功能"></a>10 添加评论功能</h2><p>评论功能在国内一般使用<a href="http://duoshuo.com/">多说</a>。</p><h3 id="10-1-注册多说账号"><a href="#10-1-注册多说账号" class="headerlink" title="10.1 注册多说账号"></a>10.1 注册<a href="http://duoshuo.com/">多说</a>账号</h3><h3 id="10-2-创建站点"><a href="#10-2-创建站点" class="headerlink" title="10.2 创建站点"></a>10.2 创建站点</h3><p>需要注意的是，填写的<strong>多说域名</strong>不能更改，会在后面使用，在这里我配置成droidlover</p><h3 id="10-3-配置"><a href="#10-3-配置" class="headerlink" title="10.3 配置"></a>10.3 配置</h3><p>在hexo主题配置文件中搜索：</p><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">duoshuo_shortname</span><br></code></pre></div></td></tr></table></figure><p>，然后打开开关，配置成前面设置的多说域名，如下：</p><figure class="highlight avrasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs avrasm"><span class="hljs-symbol">duoshuo_shortname:</span> droidlover<br></code></pre></div></td></tr></table></figure><p>有时，可能需要一段js</p><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 多说评论框 start --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ds-thread&quot;</span> <span class="hljs-attr">data-thread-key</span>=<span class="hljs-string">&quot;请将此处替换成文章在你的站点中的ID&quot;</span> <span class="hljs-attr">data-title</span>=<span class="hljs-string">&quot;请替换成文章的标题&quot;</span> <span class="hljs-attr">data-url</span>=<span class="hljs-string">&quot;请替换成文章的网址&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 多说评论框 end --&gt;</span><br><span class="hljs-comment">&lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-keyword">var</span> duoshuoQuery = &#123;<span class="hljs-attr">short_name</span>:<span class="hljs-string">&quot;droidlover&quot;</span>&#125;;</span><br><span class="javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript"><span class="hljs-keyword">var</span> ds = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&#x27;script&#x27;</span>);</span><br><span class="javascript">ds.type = <span class="hljs-string">&#x27;text/javascript&#x27;</span>;ds.async = <span class="hljs-literal">true</span>;</span><br><span class="javascript">ds.src = (<span class="hljs-built_in">document</span>.location.protocol == <span class="hljs-string">&#x27;https:&#x27;</span> ? <span class="hljs-string">&#x27;https:&#x27;</span> : <span class="hljs-string">&#x27;http:&#x27;</span>) + <span class="hljs-string">&#x27;//static.duoshuo.com/embed.js&#x27;</span>;</span><br><span class="javascript">ds.charset = <span class="hljs-string">&#x27;UTF-8&#x27;</span>;</span><br><span class="javascript">(<span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&#x27;head&#x27;</span>)[<span class="hljs-number">0</span>] </span><br><span class="javascript"> || <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&#x27;body&#x27;</span>)[<span class="hljs-number">0</span>]).appendChild(ds);</span><br><span class="javascript">&#125;)();</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 多说公共JS代码 end --&gt;</span><br></code></pre></div></td></tr></table></figure><p>现在，你可以运行看下效果了:)</p><h2 id="11-加介绍页面，让全世界认识你"><a href="#11-加介绍页面，让全世界认识你" class="headerlink" title="11 加介绍页面，让全世界认识你"></a>11 加介绍页面，让全世界认识你</h2>]]></content>
    
    
    <categories>
      
      <category>Git学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tips</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
